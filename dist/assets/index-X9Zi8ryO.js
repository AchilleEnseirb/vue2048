var fl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Dn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var wp=fl((Ip,or)=>{function ul(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ci(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Pe={},_n=[],ut=()=>{},dl=()=>!1,Nr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),li=e=>e.startsWith("onUpdate:"),Ke=Object.assign,fi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hl=Object.prototype.hasOwnProperty,ge=(e,t)=>hl.call(e,t),ie=Array.isArray,bn=e=>zr(e)==="[object Map]",Jo=e=>zr(e)==="[object Set]",oe=e=>typeof e=="function",Ue=e=>typeof e=="string",On=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",Yo=e=>(Oe(e)||oe(e))&&oe(e.then)&&oe(e.catch),qo=Object.prototype.toString,zr=e=>qo.call(e),pl=e=>zr(e).slice(8,-1),Xo=e=>zr(e)==="[object Object]",ui=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,br=ci(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ml=/-(\w)/g,Rt=Vr(e=>e.replace(ml,(t,n)=>n?n.toUpperCase():"")),gl=/\B([A-Z])/g,In=Vr(e=>e.replace(gl,"-$1").toLowerCase()),Gr=Vr(e=>e.charAt(0).toUpperCase()+e.slice(1)),os=Vr(e=>e?`on${Gr(e)}`:""),zt=(e,t)=>!Object.is(e,t),as=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},wr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},yl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bi;const Zo=()=>Bi||(Bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Sn(e){if(ie(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ue(r)?xl(r):Sn(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Ue(e)||Oe(e))return e}const _l=/;(?![^(]*\))/g,bl=/:([^]+)/,vl=/\/\*[^]*?\*\//g;function xl(e){const t={};return e.replace(vl,"").split(_l).forEach(n=>{if(n){const r=n.split(bl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function mt(e){let t="";if(Ue(e))t=e;else if(ie(e))for(let n=0;n<e.length;n++){const r=mt(e[n]);r&&(t+=r+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Cl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sl=ci(Cl);function Qo(e){return!!e||e===""}const Zt=e=>Ue(e)?e:e==null?"":ie(e)||Oe(e)&&(e.toString===qo||!oe(e.toString))?JSON.stringify(e,ea,2):String(e),ea=(e,t)=>t&&t.__v_isRef?ea(e,t.value):bn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[cs(r,i)+" =>"]=s,n),{})}:Jo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>cs(n))}:On(t)?cs(t):Oe(t)&&!ie(t)&&!Xo(t)?String(t):t,cs=(e,t="")=>{var n;return On(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let at;class ta{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=at,!t&&at&&(this.index=(at.scopes||(at.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=at;try{return at=this,t()}finally{at=n}}}on(){at=this}off(){at=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function na(e){return new ta(e)}function kl(e,t=at){t&&t.active&&t.effects.push(e)}function di(){return at}function ra(e){at&&at.cleanups.push(e)}let Qt;class hi{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,kl(this,s)}get dirty(){if(this._dirtyLevel===1){on();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Tl(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),an()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Bt,n=Qt;try{return Bt=!0,Qt=this,this._runnings++,Fi(this),this.fn()}finally{Ui(this),this._runnings--,Qt=n,Bt=t}}stop(){var t;this.active&&(Fi(this),Ui(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Tl(e){return e.value}function Fi(e){e._trackId++,e._depsLength=0}function Ui(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)sa(e.deps[t],e);e.deps.length=e._depsLength}}function sa(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Bt=!0,Ss=0;const ia=[];function on(){ia.push(Bt),Bt=!1}function an(){const e=ia.pop();Bt=e===void 0?!0:e}function pi(){Ss++}function mi(){for(Ss--;!Ss&&ks.length;)ks.shift()()}function oa(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&sa(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ks=[];function aa(e,t,n){pi();for(const r of e.keys())if(e.get(r)===r._trackId){if(r._dirtyLevel<t&&!(r._runnings&&!r.allowRecurse)){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(r._shouldSchedule=!0,r.trigger())}r.scheduler&&r._shouldSchedule&&(!r._runnings||r.allowRecurse)&&(r._shouldSchedule=!1,ks.push(r.scheduler))}mi()}const ca=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Or=new WeakMap,en=Symbol(""),Ts=Symbol("");function st(e,t,n){if(Bt&&Qt){let r=Or.get(e);r||Or.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=ca(()=>r.delete(n))),oa(Qt,s)}}function Et(e,t,n,r,s,i){const o=Or.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ie(e)){const c=Number(r);o.forEach((l,f)=>{(f==="length"||!On(f)&&f>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ie(e)?ui(n)&&a.push(o.get("length")):(a.push(o.get(en)),bn(e)&&a.push(o.get(Ts)));break;case"delete":ie(e)||(a.push(o.get(en)),bn(e)&&a.push(o.get(Ts)));break;case"set":bn(e)&&a.push(o.get(en));break}pi();for(const c of a)c&&aa(c,2);mi()}function Rl(e,t){var n;return(n=Or.get(e))==null?void 0:n.get(t)}const El=ci("__proto__,__v_isRef,__isVue"),la=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(On)),Ni=Pl();function Pl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ye(this);for(let i=0,o=this.length;i<o;i++)st(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ye)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){on(),pi();const r=ye(this)[t].apply(this,n);return mi(),an(),r}}),e}function Ml(e){const t=ye(this);return st(t,"has",e),t.hasOwnProperty(e)}class fa{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?zl:pa:i?ha:da).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=ie(t);if(!s){if(o&&ge(Ni,n))return Reflect.get(Ni,n,r);if(n==="hasOwnProperty")return Ml}const a=Reflect.get(t,n,r);return(On(n)?la.has(n):El(n))||(s||st(t,"get",n),i)?a:je(a)?o&&ui(n)?a:a.value:Oe(a)?s?tn(a):kn(a):a}}class ua extends fa{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const c=Tn(i);if(!Ir(r)&&!Tn(r)&&(i=ye(i),r=ye(r)),!ie(t)&&je(i)&&!je(r))return c?!1:(i.value=r,!0)}const o=ie(t)&&ui(n)?Number(n)<t.length:ge(t,n),a=Reflect.set(t,n,r,s);return t===ye(s)&&(o?zt(r,i)&&Et(t,"set",n,r):Et(t,"add",n,r)),a}deleteProperty(t,n){const r=ge(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Et(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!On(n)||!la.has(n))&&st(t,"has",n),r}ownKeys(t){return st(t,"iterate",ie(t)?"length":en),Reflect.ownKeys(t)}}class wl extends fa{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ol=new ua,Il=new wl,Al=new ua(!0),gi=e=>e,Wr=e=>Reflect.getPrototypeOf(e);function cr(e,t,n=!1,r=!1){e=e.__v_raw;const s=ye(e),i=ye(t);n||(zt(t,i)&&st(s,"get",t),st(s,"get",i));const{has:o}=Wr(s),a=r?gi:n?bi:Hn;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function lr(e,t=!1){const n=this.__v_raw,r=ye(n),s=ye(e);return t||(zt(e,s)&&st(r,"has",e),st(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function fr(e,t=!1){return e=e.__v_raw,!t&&st(ye(e),"iterate",en),Reflect.get(e,"size",e)}function zi(e){e=ye(e);const t=ye(this);return Wr(t).has.call(t,e)||(t.add(e),Et(t,"add",e,e)),this}function Vi(e,t){t=ye(t);const n=ye(this),{has:r,get:s}=Wr(n);let i=r.call(n,e);i||(e=ye(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?zt(t,o)&&Et(n,"set",e,t):Et(n,"add",e,t),this}function Gi(e){const t=ye(this),{has:n,get:r}=Wr(t);let s=n.call(t,e);s||(e=ye(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Et(t,"delete",e,void 0),i}function Wi(){const e=ye(this),t=e.size!==0,n=e.clear();return t&&Et(e,"clear",void 0,void 0),n}function ur(e,t){return function(r,s){const i=this,o=i.__v_raw,a=ye(o),c=t?gi:e?bi:Hn;return!e&&st(a,"iterate",en),o.forEach((l,f)=>r.call(s,c(l),c(f),i))}}function dr(e,t,n){return function(...r){const s=this.__v_raw,i=ye(s),o=bn(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...r),f=n?gi:t?bi:Hn;return!t&&st(i,"iterate",c?Ts:en),{next(){const{value:u,done:g}=l.next();return g?{value:u,done:g}:{value:a?[f(u[0]),f(u[1])]:f(u),done:g}},[Symbol.iterator](){return this}}}}function Ot(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dl(){const e={get(i){return cr(this,i)},get size(){return fr(this)},has:lr,add:zi,set:Vi,delete:Gi,clear:Wi,forEach:ur(!1,!1)},t={get(i){return cr(this,i,!1,!0)},get size(){return fr(this)},has:lr,add:zi,set:Vi,delete:Gi,clear:Wi,forEach:ur(!1,!0)},n={get(i){return cr(this,i,!0)},get size(){return fr(this,!0)},has(i){return lr.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:ur(!0,!1)},r={get(i){return cr(this,i,!0,!0)},get size(){return fr(this,!0)},has(i){return lr.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:ur(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=dr(i,!1,!1),n[i]=dr(i,!0,!1),t[i]=dr(i,!1,!0),r[i]=dr(i,!0,!0)}),[e,n,t,r]}const[$l,jl,Ll,Bl]=Dl();function yi(e,t){const n=t?e?Bl:Ll:e?jl:$l;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(ge(n,s)&&s in r?n:r,s,i)}const Fl={get:yi(!1,!1)},Ul={get:yi(!1,!0)},Nl={get:yi(!0,!1)},da=new WeakMap,ha=new WeakMap,pa=new WeakMap,zl=new WeakMap;function Vl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gl(e){return e.__v_skip||!Object.isExtensible(e)?0:Vl(pl(e))}function kn(e){return Tn(e)?e:_i(e,!1,Ol,Fl,da)}function Wl(e){return _i(e,!1,Al,Ul,ha)}function tn(e){return _i(e,!0,Il,Nl,pa)}function _i(e,t,n,r,s){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Gl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Ft(e){return Tn(e)?Ft(e.__v_raw):!!(e&&e.__v_isReactive)}function Tn(e){return!!(e&&e.__v_isReadonly)}function Ir(e){return!!(e&&e.__v_isShallow)}function ma(e){return Ft(e)||Tn(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function Hr(e){return wr(e,"__v_skip",!0),e}const Hn=e=>Oe(e)?kn(e):e,bi=e=>Oe(e)?tn(e):e;class ga{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hi(()=>t(this._value),()=>Rs(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ye(this);return(!t._cacheable||t.effect.dirty)&&zt(t._value,t._value=t.effect.run())&&Rs(t,2),ya(t),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Hl(e,t,n=!1){let r,s;const i=oe(e);return i?(r=e,s=ut):(r=e.get,s=e.set),new ga(r,s,i||!s,n)}function ya(e){Bt&&Qt&&(e=ye(e),oa(Qt,e.dep||(e.dep=ca(()=>e.dep=void 0,e instanceof ga?e:void 0))))}function Rs(e,t=2,n){e=ye(e);const r=e.dep;r&&aa(r,t)}function je(e){return!!(e&&e.__v_isRef===!0)}function Se(e){return _a(e,!1)}function Kl(e){return _a(e,!0)}function _a(e,t){return je(e)?e:new Jl(e,t)}class Jl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ye(t),this._value=n?t:Hn(t)}get value(){return ya(this),this._value}set value(t){const n=this.__v_isShallow||Ir(t)||Tn(t);t=n?t:ye(t),zt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Hn(t),Rs(this,2))}}function fe(e){return je(e)?e.value:e}const Yl={get:(e,t,n)=>fe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return je(s)&&!je(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ba(e){return Ft(e)?e:new Proxy(e,Yl)}function ql(e){const t=ie(e)?new Array(e.length):{};for(const n in e)t[n]=Zl(e,n);return t}class Xl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Rl(ye(this._object),this._key)}}function Zl(e,t,n){const r=e[t];return je(r)?r:new Xl(e,t,n)}/**
* @vue/runtime-core v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ut(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Kr(i,t,n)}return s}function pt(e,t,n,r){if(oe(e)){const i=Ut(e,t,n,r);return i&&Yo(i)&&i.catch(o=>{Kr(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(pt(e[i],t,n,r));return s}function Kr(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/errors/#runtime-${n}`;for(;i;){const l=i.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){Ut(c,null,10,[e,o,a]);return}}Ql(e,n,s,r)}function Ql(e,t,n,r=!0){console.error(e)}let Kn=!1,Es=!1;const Je=[];let St=0;const vn=[];let Dt=null,Jt=0;const va=Promise.resolve();let vi=null;function Jr(e){const t=vi||va;return e?t.then(this?e.bind(this):e):t}function ef(e){let t=St+1,n=Je.length;for(;t<n;){const r=t+n>>>1,s=Je[r],i=Jn(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function xi(e){(!Je.length||!Je.includes(e,Kn&&e.allowRecurse?St+1:St))&&(e.id==null?Je.push(e):Je.splice(ef(e.id),0,e),xa())}function xa(){!Kn&&!Es&&(Es=!0,vi=va.then(Sa))}function tf(e){const t=Je.indexOf(e);t>St&&Je.splice(t,1)}function nf(e){ie(e)?vn.push(...e):(!Dt||!Dt.includes(e,e.allowRecurse?Jt+1:Jt))&&vn.push(e),xa()}function Hi(e,t,n=Kn?St+1:0){for(;n<Je.length;n++){const r=Je[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Je.splice(n,1),n--,r()}}}function Ca(e){if(vn.length){const t=[...new Set(vn)].sort((n,r)=>Jn(n)-Jn(r));if(vn.length=0,Dt){Dt.push(...t);return}for(Dt=t,Jt=0;Jt<Dt.length;Jt++)Dt[Jt]();Dt=null,Jt=0}}const Jn=e=>e.id==null?1/0:e.id,rf=(e,t)=>{const n=Jn(e)-Jn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Sa(e){Es=!1,Kn=!0,Je.sort(rf);try{for(St=0;St<Je.length;St++){const t=Je[St];t&&t.active!==!1&&Ut(t,null,14)}}finally{St=0,Je.length=0,Ca(),Kn=!1,vi=null,(Je.length||vn.length)&&Sa()}}function sf(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Pe;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:g}=r[f]||Pe;g&&(s=n.map(v=>Ue(v)?v.trim():v)),u&&(s=n.map(yl))}let a,c=r[a=os(t)]||r[a=os(Rt(t))];!c&&i&&(c=r[a=os(In(t))]),c&&pt(c,e,6,s);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,pt(l,e,6,s)}}function ka(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!oe(e)){const c=l=>{const f=ka(l,t,!0);f&&(a=!0,Ke(o,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(Oe(e)&&r.set(e,null),null):(ie(i)?i.forEach(c=>o[c]=null):Ke(o,i),Oe(e)&&r.set(e,o),o)}function Yr(e,t){return!e||!Nr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ge(e,t[0].toLowerCase()+t.slice(1))||ge(e,In(t))||ge(e,t))}let $e=null,Ta=null;function Ar(e){const t=$e;return $e=e,Ta=e&&e.type.__scopeId||null,t}function ft(e,t=$e,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&so(-1);const i=Ar(t);let o;try{o=e(...s)}finally{Ar(i),r._d&&so(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ls(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:f,renderCache:u,data:g,setupState:v,ctx:w,inheritAttrs:O}=e;let U,K;const ne=Ar(e);try{if(n.shapeFlag&4){const P=s||r,z=P;U=Ct(f.call(z,P,u,i,v,g,w)),K=c}else{const P=t;U=Ct(P.length>1?P(i,{attrs:c,slots:a,emit:l}):P(i,null)),K=t.props?c:of(c)}}catch(P){zn.length=0,Kr(P,e,1),U=be(Vt)}let R=U;if(K&&O!==!1){const P=Object.keys(K),{shapeFlag:z}=R;P.length&&z&7&&(o&&P.some(li)&&(K=af(K,o)),R=Rn(R,K))}return n.dirs&&(R=Rn(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),U=R,Ar(ne),U}const of=e=>{let t;for(const n in e)(n==="class"||n==="style"||Nr(n))&&((t||(t={}))[n]=e[n]);return t},af=(e,t)=>{const n={};for(const r in e)(!li(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function cf(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Ki(r,o,l):!!o;if(c&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const g=f[u];if(o[g]!==r[g]&&!Yr(l,g))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ki(r,o,l):!0:!!o;return!1}function Ki(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Yr(n,i))return!0}return!1}function lf({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ff="components",uf="directives",df=Symbol.for("v-ndc");function Ra(e){return hf(uf,e)}function hf(e,t,n=!0,r=!1){const s=$e||Ge;if(s){const i=s.type;if(e===ff){const a=au(i,!1);if(a&&(a===t||a===Rt(t)||a===Gr(Rt(t))))return i}const o=Ji(s[e]||i[e],t)||Ji(s.appContext[e],t);return!o&&r?i:o}}function Ji(e,t){return e&&(e[t]||e[Rt(t)]||e[Gr(Rt(t))])}const pf=e=>e.__isSuspense;function mf(e,t){t&&t.pendingBranch?ie(e)?t.effects.push(...e):t.effects.push(e):nf(e)}const gf=Symbol.for("v-scx"),yf=()=>Nn(gf),hr={};function rt(e,t,n){return Ea(e,t,n)}function Ea(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Pe){if(t&&i){const G=t;t=(...pe)=>{G(...pe),z()}}const c=Ge,l=G=>r===!0?G:qt(G,r===!1?1:void 0);let f,u=!1,g=!1;if(je(e)?(f=()=>e.value,u=Ir(e)):Ft(e)?(f=()=>l(e),u=!0):ie(e)?(g=!0,u=e.some(G=>Ft(G)||Ir(G)),f=()=>e.map(G=>{if(je(G))return G.value;if(Ft(G))return l(G);if(oe(G))return Ut(G,c,2)})):oe(e)?t?f=()=>Ut(e,c,2):f=()=>(v&&v(),pt(e,c,3,[w])):f=ut,t&&r){const G=f;f=()=>qt(G())}let v,w=G=>{v=R.onStop=()=>{Ut(G,c,4),v=R.onStop=void 0}},O;if(es)if(w=ut,t?n&&pt(t,c,3,[f(),g?[]:void 0,w]):f(),s==="sync"){const G=yf();O=G.__watcherHandles||(G.__watcherHandles=[])}else return ut;let U=g?new Array(e.length).fill(hr):hr;const K=()=>{if(!(!R.active||!R.dirty))if(t){const G=R.run();(r||u||(g?G.some((pe,Y)=>zt(pe,U[Y])):zt(G,U)))&&(v&&v(),pt(t,c,3,[G,U===hr?void 0:g&&U[0]===hr?[]:U,w]),U=G)}else R.run()};K.allowRecurse=!!t;let ne;s==="sync"?ne=K:s==="post"?ne=()=>et(K,c&&c.suspense):(K.pre=!0,c&&(K.id=c.uid),ne=()=>xi(K));const R=new hi(f,ut,ne),P=di(),z=()=>{R.stop(),P&&fi(P.effects,R)};return t?n?K():U=R.run():s==="post"?et(R.run.bind(R),c&&c.suspense):R.run(),O&&O.push(z),z}function _f(e,t,n){const r=this.proxy,s=Ue(e)?e.includes(".")?Pa(r,e):()=>r[e]:e.bind(r,r);let i;oe(t)?i=t:(i=t.handler,n=t);const o=sr(this),a=Ea(s,i.bind(r),n);return o(),a}function Pa(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function qt(e,t,n=0,r){if(!Oe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),je(e))qt(e.value,t,n,r);else if(ie(e))for(let s=0;s<e.length;s++)qt(e[s],t,n,r);else if(Jo(e)||bn(e))e.forEach(s=>{qt(s,t,n,r)});else if(Xo(e))for(const s in e)qt(e[s],t,n,r);return e}function Ma(e,t){if($e===null)return e;const n=ts($e)||$e.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,c=Pe]=t[s];i&&(oe(i)&&(i={mounted:i,updated:i}),i.deep&&qt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return e}function Wt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(on(),pt(c,n,8,[e.el,a,e,t]),an())}}/*! #__NO_SIDE_EFFECTS__ */function gt(e,t){return oe(e)?Ke({name:e.name},t,{setup:e}):e}const Fn=e=>!!e.type.__asyncLoader,wa=e=>e.type.__isKeepAlive;function bf(e,t){Oa(e,"a",t)}function vf(e,t){Oa(e,"da",t)}function Oa(e,t,n=Ge){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(qr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)wa(s.parent.vnode)&&xf(r,t,n,s),s=s.parent}}function xf(e,t,n,r){const s=qr(t,e,r,!0);Ia(()=>{fi(r[t],s)},n)}function qr(e,t,n=Ge,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;on();const a=sr(n),c=pt(t,n,e,o);return a(),an(),c});return r?s.unshift(i):s.push(i),i}}const Mt=e=>(t,n=Ge)=>(!es||e==="sp")&&qr(e,(...r)=>t(...r),n),Cf=Mt("bm"),Ci=Mt("m"),Sf=Mt("bu"),kf=Mt("u"),Tf=Mt("bum"),Ia=Mt("um"),Rf=Mt("sp"),Ef=Mt("rtg"),Pf=Mt("rtc");function Mf(e,t=Ge){qr("ec",e,t)}function Yi(e,t,n,r){let s;const i=n&&n[r];if(ie(e)||Ue(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Oe(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Xr(e,t,n={},r,s){if($e.isCE||$e.parent&&Fn($e.parent)&&$e.parent.isCE)return t!=="default"&&(n.name=t),be("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),ke();const o=i&&Aa(i(n)),a=Xn(We,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Aa(e){return e.some(t=>Ga(t)?!(t.type===Vt||t.type===We&&!Aa(t.children)):!0)?e:null}const Ps=e=>e?Ka(e)?ts(e)||e.proxy:Ps(e.parent):null,Un=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ps(e.parent),$root:e=>Ps(e.root),$emit:e=>e.emit,$options:e=>Si(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,xi(e.update)}),$nextTick:e=>e.n||(e.n=Jr.bind(e.proxy)),$watch:e=>_f.bind(e)}),fs=(e,t)=>e!==Pe&&!e.__isScriptSetup&&ge(e,t),wf={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(fs(r,t))return o[t]=1,r[t];if(s!==Pe&&ge(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&ge(l,t))return o[t]=3,i[t];if(n!==Pe&&ge(n,t))return o[t]=4,n[t];Ms&&(o[t]=0)}}const f=Un[t];let u,g;if(f)return t==="$attrs"&&st(e,"get",t),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==Pe&&ge(n,t))return o[t]=4,n[t];if(g=c.config.globalProperties,ge(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return fs(s,t)?(s[t]=n,!0):r!==Pe&&ge(r,t)?(r[t]=n,!0):ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==Pe&&ge(e,o)||fs(t,o)||(a=i[0])&&ge(a,o)||ge(r,o)||ge(Un,o)||ge(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function qi(e){return ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ms=!0;function Of(e){const t=Si(e),n=e.proxy,r=e.ctx;Ms=!1,t.beforeCreate&&Xi(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:f,beforeMount:u,mounted:g,beforeUpdate:v,updated:w,activated:O,deactivated:U,beforeDestroy:K,beforeUnmount:ne,destroyed:R,unmounted:P,render:z,renderTracked:G,renderTriggered:pe,errorCaptured:Y,serverPrefetch:L,expose:Z,inheritAttrs:me,components:Ne,directives:_,filters:$}=t;if(l&&If(l,r,null),o)for(const C in o){const N=o[C];oe(N)&&(r[C]=N.bind(n))}if(s){const C=s.call(n,n);Oe(C)&&(e.data=kn(C))}if(Ms=!0,i)for(const C in i){const N=i[C],X=oe(N)?N.bind(n,n):oe(N.get)?N.get.bind(n,n):ut,y=!oe(N)&&oe(N.set)?N.set.bind(n):ut,h=He({get:X,set:y});Object.defineProperty(r,C,{enumerable:!0,configurable:!0,get:()=>h.value,set:I=>h.value=I})}if(a)for(const C in a)Da(a[C],r,n,C);if(c){const C=oe(c)?c.call(n):c;Reflect.ownKeys(C).forEach(N=>{Bf(N,C[N])})}f&&Xi(f,e,"c");function S(C,N){ie(N)?N.forEach(X=>C(X.bind(n))):N&&C(N.bind(n))}if(S(Cf,u),S(Ci,g),S(Sf,v),S(kf,w),S(bf,O),S(vf,U),S(Mf,Y),S(Pf,G),S(Ef,pe),S(Tf,ne),S(Ia,P),S(Rf,L),ie(Z))if(Z.length){const C=e.exposed||(e.exposed={});Z.forEach(N=>{Object.defineProperty(C,N,{get:()=>n[N],set:X=>n[N]=X})})}else e.exposed||(e.exposed={});z&&e.render===ut&&(e.render=z),me!=null&&(e.inheritAttrs=me),Ne&&(e.components=Ne),_&&(e.directives=_)}function If(e,t,n=ut){ie(e)&&(e=ws(e));for(const r in e){const s=e[r];let i;Oe(s)?"default"in s?i=Nn(s.from||r,s.default,!0):i=Nn(s.from||r):i=Nn(s),je(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Xi(e,t,n){pt(ie(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Da(e,t,n,r){const s=r.includes(".")?Pa(n,r):()=>n[r];if(Ue(e)){const i=t[e];oe(i)&&rt(s,i)}else if(oe(e))rt(s,e.bind(n));else if(Oe(e))if(ie(e))e.forEach(i=>Da(i,t,n,r));else{const i=oe(e.handler)?e.handler.bind(n):t[e.handler];oe(i)&&rt(s,i,e)}}function Si(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(l=>Dr(c,l,o,!0)),Dr(c,t,o)),Oe(t)&&i.set(t,c),c}function Dr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Dr(e,i,n,!0),s&&s.forEach(o=>Dr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Af[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Af={data:Zi,props:Qi,emits:Qi,methods:Ln,computed:Ln,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:Ln,directives:Ln,watch:$f,provide:Zi,inject:Df};function Zi(e,t){return t?e?function(){return Ke(oe(e)?e.call(this,this):e,oe(t)?t.call(this,this):t)}:t:e}function Df(e,t){return Ln(ws(e),ws(t))}function ws(e){if(ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ln(e,t){return e?Ke(Object.create(null),e,t):t}function Qi(e,t){return e?ie(e)&&ie(t)?[...new Set([...e,...t])]:Ke(Object.create(null),qi(e),qi(t??{})):t}function $f(e,t){if(!e)return t;if(!t)return e;const n=Ke(Object.create(null),e);for(const r in t)n[r]=Xe(e[r],t[r]);return n}function $a(){return{app:null,config:{isNativeTag:dl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jf=0;function Lf(e,t){return function(r,s=null){oe(r)||(r=Ke({},r)),s!=null&&!Oe(s)&&(s=null);const i=$a(),o=new WeakSet;let a=!1;const c=i.app={_uid:jf++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:lu,get config(){return i.config},set config(l){},use(l,...f){return o.has(l)||(l&&oe(l.install)?(o.add(l),l.install(c,...f)):oe(l)&&(o.add(l),l(c,...f))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,f){return f?(i.components[l]=f,c):i.components[l]},directive(l,f){return f?(i.directives[l]=f,c):i.directives[l]},mount(l,f,u){if(!a){const g=be(r,s);return g.appContext=i,u===!0?u="svg":u===!1&&(u=void 0),f&&t?t(g,l):e(g,l,u),a=!0,c._container=l,l.__vue_app__=c,ts(g.component)||g.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,f){return i.provides[l]=f,c},runWithContext(l){Yn=c;try{return l()}finally{Yn=null}}};return c}}let Yn=null;function Bf(e,t){if(Ge){let n=Ge.provides;const r=Ge.parent&&Ge.parent.provides;r===n&&(n=Ge.provides=Object.create(r)),n[e]=t}}function Nn(e,t,n=!1){const r=Ge||$e;if(r||Yn){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Yn._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&oe(t)?t.call(r&&r.proxy):t}}function Ff(){return!!(Ge||$e||Yn)}function Uf(e,t,n,r=!1){const s={},i={};wr(i,Qr,1),e.propsDefaults=Object.create(null),ja(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Wl(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Nf(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ye(s),[c]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let g=f[u];if(Yr(e.emitsOptions,g))continue;const v=t[g];if(c)if(ge(i,g))v!==i[g]&&(i[g]=v,l=!0);else{const w=Rt(g);s[w]=Os(c,a,w,v,e,!1)}else v!==i[g]&&(i[g]=v,l=!0)}}}else{ja(e,t,s,i)&&(l=!0);let f;for(const u in a)(!t||!ge(t,u)&&((f=In(u))===u||!ge(t,f)))&&(c?n&&(n[u]!==void 0||n[f]!==void 0)&&(s[u]=Os(c,a,u,void 0,e,!0)):delete s[u]);if(i!==a)for(const u in i)(!t||!ge(t,u))&&(delete i[u],l=!0)}l&&Et(e,"set","$attrs")}function ja(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(br(c))continue;const l=t[c];let f;s&&ge(s,f=Rt(c))?!i||!i.includes(f)?n[f]=l:(a||(a={}))[f]=l:Yr(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=ye(n),l=a||Pe;for(let f=0;f<i.length;f++){const u=i[f];n[u]=Os(s,c,u,l[u],e,!ge(l,u))}}return o}function Os(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=ge(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&oe(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const f=sr(s);r=l[n]=c.call(null,t),f()}}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===In(n))&&(r=!0))}return r}function La(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!oe(e)){const f=u=>{c=!0;const[g,v]=La(u,t,!0);Ke(o,g),v&&a.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!c)return Oe(e)&&r.set(e,_n),_n;if(ie(i))for(let f=0;f<i.length;f++){const u=Rt(i[f]);eo(u)&&(o[u]=Pe)}else if(i)for(const f in i){const u=Rt(f);if(eo(u)){const g=i[f],v=o[u]=ie(g)||oe(g)?{type:g}:Ke({},g);if(v){const w=ro(Boolean,v.type),O=ro(String,v.type);v[0]=w>-1,v[1]=O<0||w<O,(w>-1||ge(v,"default"))&&a.push(u)}}}const l=[o,a];return Oe(e)&&r.set(e,l),l}function eo(e){return e[0]!=="$"}function to(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function no(e,t){return to(e)===to(t)}function ro(e,t){return ie(t)?t.findIndex(n=>no(n,e)):oe(t)&&no(t,e)?0:-1}const Ba=e=>e[0]==="_"||e==="$stable",ki=e=>ie(e)?e.map(Ct):[Ct(e)],zf=(e,t,n)=>{if(t._n)return t;const r=ft((...s)=>ki(t(...s)),n);return r._c=!1,r},Fa=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ba(s))continue;const i=e[s];if(oe(i))t[s]=zf(s,i,r);else if(i!=null){const o=ki(i);t[s]=()=>o}}},Ua=(e,t)=>{const n=ki(t);e.slots.default=()=>n},Vf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ye(t),wr(t,"_",n)):Fa(t,e.slots={})}else e.slots={},t&&Ua(e,t);wr(e.slots,Qr,1)},Gf=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Pe;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ke(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Fa(t,s)),o=t}else t&&(Ua(e,t),o={default:1});if(i)for(const a in s)!Ba(a)&&o[a]==null&&delete s[a]};function Is(e,t,n,r,s=!1){if(ie(e)){e.forEach((g,v)=>Is(g,t&&(ie(t)?t[v]:t),n,r,s));return}if(Fn(r)&&!s)return;const i=r.shapeFlag&4?ts(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,f=a.refs===Pe?a.refs={}:a.refs,u=a.setupState;if(l!=null&&l!==c&&(Ue(l)?(f[l]=null,ge(u,l)&&(u[l]=null)):je(l)&&(l.value=null)),oe(c))Ut(c,a,12,[o,f]);else{const g=Ue(c),v=je(c);if(g||v){const w=()=>{if(e.f){const O=g?ge(u,c)?u[c]:f[c]:c.value;s?ie(O)&&fi(O,i):ie(O)?O.includes(i)||O.push(i):g?(f[c]=[i],ge(u,c)&&(u[c]=f[c])):(c.value=[i],e.k&&(f[e.k]=c.value))}else g?(f[c]=o,ge(u,c)&&(u[c]=o)):v&&(c.value=o,e.k&&(f[e.k]=o))};o?(w.id=-1,et(w,n)):w()}}}const et=mf;function Wf(e){return Hf(e)}function Hf(e,t){const n=Zo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:f,parentNode:u,nextSibling:g,setScopeId:v=ut,insertStaticContent:w}=e,O=(d,p,x,E=null,M=null,j=null,B=void 0,A=null,F=!!p.dynamicChildren)=>{if(d===p)return;d&&!$n(d,p)&&(E=Q(d),I(d,M,j,!0),d=null),p.patchFlag===-2&&(F=!1,p.dynamicChildren=null);const{type:D,ref:V,shapeFlag:q}=p;switch(D){case Zr:U(d,p,x,E);break;case Vt:K(d,p,x,E);break;case ds:d==null&&ne(p,x,E,B);break;case We:Ne(d,p,x,E,M,j,B,A,F);break;default:q&1?z(d,p,x,E,M,j,B,A,F):q&6?_(d,p,x,E,M,j,B,A,F):(q&64||q&128)&&D.process(d,p,x,E,M,j,B,A,F,xe)}V!=null&&M&&Is(V,d&&d.ref,j,p||d,!p)},U=(d,p,x,E)=>{if(d==null)r(p.el=a(p.children),x,E);else{const M=p.el=d.el;p.children!==d.children&&l(M,p.children)}},K=(d,p,x,E)=>{d==null?r(p.el=c(p.children||""),x,E):p.el=d.el},ne=(d,p,x,E)=>{[d.el,d.anchor]=w(d.children,p,x,E,d.el,d.anchor)},R=({el:d,anchor:p},x,E)=>{let M;for(;d&&d!==p;)M=g(d),r(d,x,E),d=M;r(p,x,E)},P=({el:d,anchor:p})=>{let x;for(;d&&d!==p;)x=g(d),s(d),d=x;s(p)},z=(d,p,x,E,M,j,B,A,F)=>{p.type==="svg"?B="svg":p.type==="math"&&(B="mathml"),d==null?G(p,x,E,M,j,B,A,F):L(d,p,M,j,B,A,F)},G=(d,p,x,E,M,j,B,A)=>{let F,D;const{props:V,shapeFlag:q,transition:J,dirs:re}=d;if(F=d.el=o(d.type,j,V&&V.is,V),q&8?f(F,d.children):q&16&&Y(d.children,F,null,E,M,us(d,j),B,A),re&&Wt(d,null,E,"created"),pe(F,d,d.scopeId,B,E),V){for(const _e in V)_e!=="value"&&!br(_e)&&i(F,_e,null,V[_e],j,d.children,E,M,se);"value"in V&&i(F,"value",null,V.value,j),(D=V.onVnodeBeforeMount)&&_t(D,E,d)}re&&Wt(d,null,E,"beforeMount");const ue=Kf(M,J);ue&&J.beforeEnter(F),r(F,p,x),((D=V&&V.onVnodeMounted)||ue||re)&&et(()=>{D&&_t(D,E,d),ue&&J.enter(F),re&&Wt(d,null,E,"mounted")},M)},pe=(d,p,x,E,M)=>{if(x&&v(d,x),E)for(let j=0;j<E.length;j++)v(d,E[j]);if(M){let j=M.subTree;if(p===j){const B=M.vnode;pe(d,B,B.scopeId,B.slotScopeIds,M.parent)}}},Y=(d,p,x,E,M,j,B,A,F=0)=>{for(let D=F;D<d.length;D++){const V=d[D]=A?$t(d[D]):Ct(d[D]);O(null,V,p,x,E,M,j,B,A)}},L=(d,p,x,E,M,j,B)=>{const A=p.el=d.el;let{patchFlag:F,dynamicChildren:D,dirs:V}=p;F|=d.patchFlag&16;const q=d.props||Pe,J=p.props||Pe;let re;if(x&&Ht(x,!1),(re=J.onVnodeBeforeUpdate)&&_t(re,x,p,d),V&&Wt(p,d,x,"beforeUpdate"),x&&Ht(x,!0),D?Z(d.dynamicChildren,D,A,x,E,us(p,M),j):B||N(d,p,A,null,x,E,us(p,M),j,!1),F>0){if(F&16)me(A,p,q,J,x,E,M);else if(F&2&&q.class!==J.class&&i(A,"class",null,J.class,M),F&4&&i(A,"style",q.style,J.style,M),F&8){const ue=p.dynamicProps;for(let _e=0;_e<ue.length;_e++){const Te=ue[_e],De=q[Te],qe=J[Te];(qe!==De||Te==="value")&&i(A,Te,De,qe,M,d.children,x,E,se)}}F&1&&d.children!==p.children&&f(A,p.children)}else!B&&D==null&&me(A,p,q,J,x,E,M);((re=J.onVnodeUpdated)||V)&&et(()=>{re&&_t(re,x,p,d),V&&Wt(p,d,x,"updated")},E)},Z=(d,p,x,E,M,j,B)=>{for(let A=0;A<p.length;A++){const F=d[A],D=p[A],V=F.el&&(F.type===We||!$n(F,D)||F.shapeFlag&70)?u(F.el):x;O(F,D,V,null,E,M,j,B,!0)}},me=(d,p,x,E,M,j,B)=>{if(x!==E){if(x!==Pe)for(const A in x)!br(A)&&!(A in E)&&i(d,A,x[A],null,B,p.children,M,j,se);for(const A in E){if(br(A))continue;const F=E[A],D=x[A];F!==D&&A!=="value"&&i(d,A,D,F,B,p.children,M,j,se)}"value"in E&&i(d,"value",x.value,E.value,B)}},Ne=(d,p,x,E,M,j,B,A,F)=>{const D=p.el=d?d.el:a(""),V=p.anchor=d?d.anchor:a("");let{patchFlag:q,dynamicChildren:J,slotScopeIds:re}=p;re&&(A=A?A.concat(re):re),d==null?(r(D,x,E),r(V,x,E),Y(p.children||[],x,V,M,j,B,A,F)):q>0&&q&64&&J&&d.dynamicChildren?(Z(d.dynamicChildren,J,x,M,j,B,A),(p.key!=null||M&&p===M.subTree)&&Na(d,p,!0)):N(d,p,x,V,M,j,B,A,F)},_=(d,p,x,E,M,j,B,A,F)=>{p.slotScopeIds=A,d==null?p.shapeFlag&512?M.ctx.activate(p,x,E,B,F):$(p,x,E,M,j,B,F):T(d,p,F)},$=(d,p,x,E,M,j,B)=>{const A=d.component=nu(d,E,M);if(wa(d)&&(A.ctx.renderer=xe),ru(A),A.asyncDep){if(M&&M.registerDep(A,S),!d.el){const F=A.subTree=be(Vt);K(null,F,p,x)}}else S(A,d,p,x,M,j,B)},T=(d,p,x)=>{const E=p.component=d.component;if(cf(d,p,x))if(E.asyncDep&&!E.asyncResolved){C(E,p,x);return}else E.next=p,tf(E.update),E.effect.dirty=!0,E.update();else p.el=d.el,E.vnode=p},S=(d,p,x,E,M,j,B)=>{const A=()=>{if(d.isMounted){let{next:V,bu:q,u:J,parent:re,vnode:ue}=d;{const wt=za(d);if(wt){V&&(V.el=ue.el,C(d,V,B)),wt.asyncDep.then(()=>{d.isUnmounted||A()});return}}let _e=V,Te;Ht(d,!1),V?(V.el=ue.el,C(d,V,B)):V=ue,q&&as(q),(Te=V.props&&V.props.onVnodeBeforeUpdate)&&_t(Te,re,V,ue),Ht(d,!0);const De=ls(d),qe=d.subTree;d.subTree=De,O(qe,De,u(qe.el),Q(qe),d,M,j),V.el=De.el,_e===null&&lf(d,De.el),J&&et(J,M),(Te=V.props&&V.props.onVnodeUpdated)&&et(()=>_t(Te,re,V,ue),M)}else{let V;const{el:q,props:J}=p,{bm:re,m:ue,parent:_e}=d,Te=Fn(p);if(Ht(d,!1),re&&as(re),!Te&&(V=J&&J.onVnodeBeforeMount)&&_t(V,_e,p),Ht(d,!0),q&&Re){const De=()=>{d.subTree=ls(d),Re(q,d.subTree,d,M,null)};Te?p.type.__asyncLoader().then(()=>!d.isUnmounted&&De()):De()}else{const De=d.subTree=ls(d);O(null,De,x,E,d,M,j),p.el=De.el}if(ue&&et(ue,M),!Te&&(V=J&&J.onVnodeMounted)){const De=p;et(()=>_t(V,_e,De),M)}(p.shapeFlag&256||_e&&Fn(_e.vnode)&&_e.vnode.shapeFlag&256)&&d.a&&et(d.a,M),d.isMounted=!0,p=x=E=null}},F=d.effect=new hi(A,ut,()=>xi(D),d.scope),D=d.update=()=>{F.dirty&&F.run()};D.id=d.uid,Ht(d,!0),D()},C=(d,p,x)=>{p.component=d;const E=d.vnode.props;d.vnode=p,d.next=null,Nf(d,p.props,E,x),Gf(d,p.children,x),on(),Hi(d),an()},N=(d,p,x,E,M,j,B,A,F=!1)=>{const D=d&&d.children,V=d?d.shapeFlag:0,q=p.children,{patchFlag:J,shapeFlag:re}=p;if(J>0){if(J&128){y(D,q,x,E,M,j,B,A,F);return}else if(J&256){X(D,q,x,E,M,j,B,A,F);return}}re&8?(V&16&&se(D,M,j),q!==D&&f(x,q)):V&16?re&16?y(D,q,x,E,M,j,B,A,F):se(D,M,j,!0):(V&8&&f(x,""),re&16&&Y(q,x,E,M,j,B,A,F))},X=(d,p,x,E,M,j,B,A,F)=>{d=d||_n,p=p||_n;const D=d.length,V=p.length,q=Math.min(D,V);let J;for(J=0;J<q;J++){const re=p[J]=F?$t(p[J]):Ct(p[J]);O(d[J],re,x,null,M,j,B,A,F)}D>V?se(d,M,j,!0,!1,q):Y(p,x,E,M,j,B,A,F,q)},y=(d,p,x,E,M,j,B,A,F)=>{let D=0;const V=p.length;let q=d.length-1,J=V-1;for(;D<=q&&D<=J;){const re=d[D],ue=p[D]=F?$t(p[D]):Ct(p[D]);if($n(re,ue))O(re,ue,x,null,M,j,B,A,F);else break;D++}for(;D<=q&&D<=J;){const re=d[q],ue=p[J]=F?$t(p[J]):Ct(p[J]);if($n(re,ue))O(re,ue,x,null,M,j,B,A,F);else break;q--,J--}if(D>q){if(D<=J){const re=J+1,ue=re<V?p[re].el:E;for(;D<=J;)O(null,p[D]=F?$t(p[D]):Ct(p[D]),x,ue,M,j,B,A,F),D++}}else if(D>J)for(;D<=q;)I(d[D],M,j,!0),D++;else{const re=D,ue=D,_e=new Map;for(D=ue;D<=J;D++){const it=p[D]=F?$t(p[D]):Ct(p[D]);it.key!=null&&_e.set(it.key,D)}let Te,De=0;const qe=J-ue+1;let wt=!1,ar=0;const An=new Array(qe);for(D=0;D<qe;D++)An[D]=0;for(D=re;D<=q;D++){const it=d[D];if(De>=qe){I(it,M,j,!0);continue}let yt;if(it.key!=null)yt=_e.get(it.key);else for(Te=ue;Te<=J;Te++)if(An[Te-ue]===0&&$n(it,p[Te])){yt=Te;break}yt===void 0?I(it,M,j,!0):(An[yt-ue]=D+1,yt>=ar?ar=yt:wt=!0,O(it,p[yt],x,null,M,j,B,A,F),De++)}const ji=wt?Jf(An):_n;for(Te=ji.length-1,D=qe-1;D>=0;D--){const it=ue+D,yt=p[it],Li=it+1<V?p[it+1].el:E;An[D]===0?O(null,yt,x,Li,M,j,B,A,F):wt&&(Te<0||D!==ji[Te]?h(yt,x,Li,2):Te--)}}},h=(d,p,x,E,M=null)=>{const{el:j,type:B,transition:A,children:F,shapeFlag:D}=d;if(D&6){h(d.component.subTree,p,x,E);return}if(D&128){d.suspense.move(p,x,E);return}if(D&64){B.move(d,p,x,xe);return}if(B===We){r(j,p,x);for(let q=0;q<F.length;q++)h(F[q],p,x,E);r(d.anchor,p,x);return}if(B===ds){R(d,p,x);return}if(E!==2&&D&1&&A)if(E===0)A.beforeEnter(j),r(j,p,x),et(()=>A.enter(j),M);else{const{leave:q,delayLeave:J,afterLeave:re}=A,ue=()=>r(j,p,x),_e=()=>{q(j,()=>{ue(),re&&re()})};J?J(j,ue,_e):_e()}else r(j,p,x)},I=(d,p,x,E=!1,M=!1)=>{const{type:j,props:B,ref:A,children:F,dynamicChildren:D,shapeFlag:V,patchFlag:q,dirs:J}=d;if(A!=null&&Is(A,null,x,d,!0),V&256){p.ctx.deactivate(d);return}const re=V&1&&J,ue=!Fn(d);let _e;if(ue&&(_e=B&&B.onVnodeBeforeUnmount)&&_t(_e,p,d),V&6)ce(d.component,x,E);else{if(V&128){d.suspense.unmount(x,E);return}re&&Wt(d,null,p,"beforeUnmount"),V&64?d.type.remove(d,p,x,M,xe,E):D&&(j!==We||q>0&&q&64)?se(D,p,x,!1,!0):(j===We&&q&384||!M&&V&16)&&se(F,p,x),E&&ee(d)}(ue&&(_e=B&&B.onVnodeUnmounted)||re)&&et(()=>{_e&&_t(_e,p,d),re&&Wt(d,null,p,"unmounted")},x)},ee=d=>{const{type:p,el:x,anchor:E,transition:M}=d;if(p===We){ae(x,E);return}if(p===ds){P(d);return}const j=()=>{s(x),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(d.shapeFlag&1&&M&&!M.persisted){const{leave:B,delayLeave:A}=M,F=()=>B(x,j);A?A(d.el,j,F):F()}else j()},ae=(d,p)=>{let x;for(;d!==p;)x=g(d),s(d),d=x;s(p)},ce=(d,p,x)=>{const{bum:E,scope:M,update:j,subTree:B,um:A}=d;E&&as(E),M.stop(),j&&(j.active=!1,I(B,d,p,x)),A&&et(A,p),et(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},se=(d,p,x,E=!1,M=!1,j=0)=>{for(let B=j;B<d.length;B++)I(d[B],p,x,E,M)},Q=d=>d.shapeFlag&6?Q(d.component.subTree):d.shapeFlag&128?d.suspense.next():g(d.anchor||d.el);let le=!1;const ve=(d,p,x)=>{d==null?p._vnode&&I(p._vnode,null,null,!0):O(p._vnode||null,d,p,null,null,null,x),le||(le=!0,Hi(),Ca(),le=!1),p._vnode=d},xe={p:O,um:I,m:h,r:ee,mt:$,mc:Y,pc:N,pbc:Z,n:Q,o:e};let Ce,Re;return t&&([Ce,Re]=t(xe)),{render:ve,hydrate:Ce,createApp:Lf(ve,Ce)}}function us({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ht({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Kf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Na(e,t,n=!1){const r=e.children,s=t.children;if(ie(r)&&ie(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=$t(s[i]),a.el=o.el),n||Na(o,a)),a.type===Zr&&(a.el=o.el)}}function Jf(e){const t=e.slice(),n=[0];let r,s,i,o,a;const c=e.length;for(r=0;r<c;r++){const l=e[r];if(l!==0){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function za(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:za(t)}const Yf=e=>e.__isTeleport,We=Symbol.for("v-fgt"),Zr=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),ds=Symbol.for("v-stc"),zn=[];let ht=null;function ke(e=!1){zn.push(ht=e?null:[])}function qf(){zn.pop(),ht=zn[zn.length-1]||null}let qn=1;function so(e){qn+=e}function Va(e){return e.dynamicChildren=qn>0?ht||_n:null,qf(),qn>0&&ht&&ht.push(e),e}function we(e,t,n,r,s,i){return Va(te(e,t,n,r,s,i,!0))}function Xn(e,t,n,r,s){return Va(be(e,t,n,r,s,!0))}function Ga(e){return e?e.__v_isVNode===!0:!1}function $n(e,t){return e.type===t.type&&e.key===t.key}const Qr="__vInternal",Wa=({key:e})=>e??null,vr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||je(e)||oe(e)?{i:$e,r:e,k:t,f:!!n}:e:null);function te(e,t=null,n=null,r=0,s=null,i=e===We?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wa(t),ref:t&&vr(t),scopeId:Ta,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$e};return a?(Ti(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Ue(n)?8:16),qn>0&&!o&&ht&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&ht.push(c),c}const be=Xf;function Xf(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===df)&&(e=Vt),Ga(e)){const a=Rn(e,t,!0);return n&&Ti(a,n),qn>0&&!i&&ht&&(a.shapeFlag&6?ht[ht.indexOf(e)]=a:ht.push(a)),a.patchFlag|=-2,a}if(cu(e)&&(e=e.__vccOpts),t){t=Zf(t);let{class:a,style:c}=t;a&&!Ue(a)&&(t.class=mt(a)),Oe(c)&&(ma(c)&&!ie(c)&&(c=Ke({},c)),t.style=Sn(c))}const o=Ue(e)?1:pf(e)?128:Yf(e)?64:Oe(e)?4:oe(e)?2:0;return te(e,t,n,r,s,o,i,!0)}function Zf(e){return e?ma(e)||Qr in e?Ke({},e):e:null}function Rn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?Qf(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Wa(a),ref:t&&t.ref?n&&s?ie(s)?s.concat(vr(t)):[s,vr(t)]:vr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==We?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rn(e.ssContent),ssFallback:e.ssFallback&&Rn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Pt(e=" ",t=0){return be(Zr,null,e,t)}function io(e="",t=!1){return t?(ke(),Xn(Vt,null,e)):be(Vt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?be(Vt):ie(e)?be(We,null,e.slice()):typeof e=="object"?$t(e):be(Zr,null,String(e))}function $t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rn(e)}function Ti(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ie(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ti(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Qr in t)?t._ctx=$e:s===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else oe(t)?(t={default:t,_ctx:$e},n=32):(t=String(t),r&64?(n=16,t=[Pt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qf(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=mt([t.class,r.class]));else if(s==="style")t.style=Sn([t.style,r.style]);else if(Nr(s)){const i=t[s],o=r[s];o&&i!==o&&!(ie(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function _t(e,t,n,r=null){pt(e,t,7,[n,r])}const eu=$a();let tu=0;function nu(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||eu,i={uid:tu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new ta(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:La(r,s),emitsOptions:ka(r,s),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:r.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=sf.bind(null,i),e.ce&&e.ce(i),i}let Ge=null;const Ha=()=>Ge||$e;let $r,As;{const e=Zo(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};$r=t("__VUE_INSTANCE_SETTERS__",n=>Ge=n),As=t("__VUE_SSR_SETTERS__",n=>es=n)}const sr=e=>{const t=Ge;return $r(e),e.scope.on(),()=>{e.scope.off(),$r(t)}},oo=()=>{Ge&&Ge.scope.off(),$r(null)};function Ka(e){return e.vnode.shapeFlag&4}let es=!1;function ru(e,t=!1){t&&As(t);const{props:n,children:r}=e.vnode,s=Ka(e);Uf(e,n,s,t),Vf(e,r);const i=s?su(e,t):void 0;return t&&As(!1),i}function su(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Hr(new Proxy(e.ctx,wf));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?ou(e):null,i=sr(e);on();const o=Ut(r,e,0,[e.props,s]);if(an(),i(),Yo(o)){if(o.then(oo,oo),t)return o.then(a=>{ao(e,a,t)}).catch(a=>{Kr(a,e,0)});e.asyncDep=o}else ao(e,o,t)}else Ja(e,t)}function ao(e,t,n){oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=ba(t)),Ja(e,n)}let co;function Ja(e,t,n){const r=e.type;if(!e.render){if(!t&&co&&!r.render){const s=r.template||Si(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=r,l=Ke(Ke({isCustomElement:i,delimiters:a},o),c);r.render=co(s,l)}}e.render=r.render||ut}{const s=sr(e);on();try{Of(e)}finally{an(),s()}}}function iu(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return st(e,"get","$attrs"),t[n]}}))}function ou(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return iu(e)},slots:e.slots,emit:e.emit,expose:t}}function ts(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ba(Hr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Un)return Un[n](e)},has(t,n){return n in t||n in Un}}))}function au(e,t=!0){return oe(e)?e.displayName||e.name:e.name||t&&e.__name}function cu(e){return oe(e)&&"__vccOpts"in e}const He=(e,t)=>Hl(e,t,es),lu="3.4.14";/**
* @vue/runtime-dom v3.4.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fu="http://www.w3.org/2000/svg",uu="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,lo=jt&&jt.createElement("template"),du={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?jt.createElementNS(fu,e):t==="mathml"?jt.createElementNS(uu,e):jt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{lo.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=lo.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hu=Symbol("_vtc");function pu(e,t,n){const r=e[hu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const mu=Symbol("_vod"),gu=Symbol("");function yu(e,t,n){const r=e.style,s=r.display,i=Ue(n);if(n&&!i){if(t&&!Ue(t))for(const o in t)n[o]==null&&Ds(r,o,"");for(const o in n)Ds(r,o,n[o])}else if(i){if(t!==n){const o=r[gu];o&&(n+=";"+o),r.cssText=n}}else t&&e.removeAttribute("style");mu in e&&(r.display=s)}const fo=/\s*!important$/;function Ds(e,t,n){if(ie(n))n.forEach(r=>Ds(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=_u(e,t);fo.test(n)?e.setProperty(In(r),n.replace(fo,""),"important"):e[r]=n}}const uo=["Webkit","Moz","ms"],hs={};function _u(e,t){const n=hs[t];if(n)return n;let r=Rt(t);if(r!=="filter"&&r in e)return hs[t]=r;r=Gr(r);for(let s=0;s<uo.length;s++){const i=uo[s]+r;if(i in e)return hs[t]=i}return t}const ho="http://www.w3.org/1999/xlink";function bu(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ho,t.slice(6,t.length)):e.setAttributeNS(ho,t,n);else{const i=Sl(t);n==null||i&&!Qo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function vu(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const l=a==="OPTION"?e.getAttribute("value"):e.value,f=n??"";l!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Qo(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function xu(e,t,n,r){e.addEventListener(t,n,r)}function Cu(e,t,n,r){e.removeEventListener(t,n,r)}const po=Symbol("_vei");function Su(e,t,n,r,s=null){const i=e[po]||(e[po]={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=ku(t);if(r){const l=i[t]=Eu(r,s);xu(e,a,l,c)}else o&&(Cu(e,a,o,c),i[t]=void 0)}}const mo=/(?:Once|Passive|Capture)$/;function ku(e){let t;if(mo.test(e)){t={};let r;for(;r=e.match(mo);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):In(e.slice(2)),t]}let ps=0;const Tu=Promise.resolve(),Ru=()=>ps||(Tu.then(()=>ps=0),ps=Date.now());function Eu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;pt(Pu(r,n.value),t,5,[r])};return n.value=e,n.attached=Ru(),n}function Pu(e,t){if(ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const go=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Mu=(e,t,n,r,s,i,o,a,c)=>{const l=s==="svg";t==="class"?pu(e,r,l):t==="style"?yu(e,n,r):Nr(t)?li(t)||Su(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wu(e,t,r,l))?vu(e,t,r,i,o,a,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),bu(e,t,r,l))};function wu(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&go(t)&&oe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return go(t)&&Ue(n)?!1:t in e}const Ou=Ke({patchProp:Mu},du);let yo;function Iu(){return yo||(yo=Wf(Ou))}const Au=(...e)=>{const t=Iu().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=$u(r);if(!s)return;const i=t._component;!oe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,Du(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Du(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $u(e){return Ue(e)?document.querySelector(e):e}const Ya=new Set,ct=new WeakMap,xn=new WeakMap,rn=new WeakMap,$s=new WeakMap,ju=new WeakMap,En=new WeakMap,jr=new WeakMap;let Gt;const Xt="__aa_tgt",js="__aa_del",Lu=e=>{const t=zu(e);t&&t.forEach(n=>Vu(n))},Bu=e=>{e.forEach(t=>{t.target===Gt&&Uu(),ct.has(t.target)&&cn(t.target)})};function Fu(e){const t=$s.get(e);t==null||t.disconnect();let n=ct.get(e),r=0;const s=5;n||(n=Pn(e),ct.set(e,n));const{offsetWidth:i,offsetHeight:o}=Gt,c=[n.top-s,i-(n.left+s+n.width),o-(n.top+s+n.height),n.left-s].map(f=>`${-1*Math.floor(f)}px`).join(" "),l=new IntersectionObserver(()=>{++r>1&&cn(e)},{root:Gt,threshold:1,rootMargin:c});l.observe(e),$s.set(e,l)}function cn(e){clearTimeout(jr.get(e));const t=ns(e),n=typeof t=="function"?500:t.duration;jr.set(e,setTimeout(()=>{const r=rn.get(e);(!r||r.finished)&&(ct.set(e,Pn(e)),Fu(e))},n))}function Uu(){clearTimeout(jr.get(Gt)),jr.set(Gt,setTimeout(()=>{Ya.forEach(e=>Za(e,t=>qa(()=>cn(t))))},100))}function Nu(e){setTimeout(()=>{ju.set(e,setInterval(()=>qa(cn.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function qa(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let Ls,gn;typeof window<"u"&&(Gt=document.documentElement,Ls=new MutationObserver(Lu),gn=new ResizeObserver(Bu),gn.observe(Gt));function zu(e){return e.reduce((t,n)=>{if(t===!1)return!1;if(n.target instanceof Element){if(ms(n.target),!t.has(n.target)){t.add(n.target);for(let r=0;r<n.target.children.length;r++){const s=n.target.children.item(r);if(s){if(js in s)return!1;ms(n.target,s),t.add(s)}}}if(n.removedNodes.length)for(let r=0;r<n.removedNodes.length;r++){const s=n.removedNodes[r];if(js in s)return!1;s instanceof Element&&(t.add(s),ms(n.target,s),xn.set(s,[n.previousSibling,n.nextSibling]))}}return t},new Set)}function ms(e,t){!t&&!(Xt in e)?Object.defineProperty(e,Xt,{value:e}):t&&!(Xt in t)&&Object.defineProperty(t,Xt,{value:e})}function Vu(e){var t;const n=Gt.contains(e),r=ct.has(e);n&&xn.has(e)&&xn.delete(e),rn.has(e)&&((t=rn.get(e))===null||t===void 0||t.cancel()),r&&n?Gu(e):r&&!n?Hu(e):Wu(e)}function vt(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Pn(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function Xa(e,t,n){let r=t.width,s=t.height,i=n.width,o=n.height;const a=getComputedStyle(e);if(a.getPropertyValue("box-sizing")==="content-box"){const l=vt(a.paddingTop)+vt(a.paddingBottom)+vt(a.borderTopWidth)+vt(a.borderBottomWidth),f=vt(a.paddingLeft)+vt(a.paddingRight)+vt(a.borderRightWidth)+vt(a.borderLeftWidth);r-=f,i-=f,s-=l,o-=l}return[r,i,s,o].map(Math.round)}function ns(e){return Xt in e&&En.has(e[Xt])?En.get(e[Xt]):{duration:250,easing:"ease-in-out"}}function Za(e,...t){t.forEach(n=>n(e,En.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(s=>s(r,En.has(r)))}}function Gu(e){const t=ct.get(e),n=Pn(e);let r;if(!t)return;const s=ns(e);if(typeof s!="function"){const i=t.left-n.left,o=t.top-n.top,[a,c,l,f]=Xa(e,t,n),u={transform:`translate(${i}px, ${o}px)`},g={transform:"translate(0, 0)"};a!==c&&(u.width=`${a}px`,g.width=`${c}px`),l!==f&&(u.height=`${l}px`,g.height=`${f}px`),r=e.animate([u,g],s)}else r=new Animation(s(e,"remain",t,n)),r.play();rn.set(e,r),ct.set(e,n),r.addEventListener("finish",cn.bind(null,e))}function Wu(e){const t=Pn(e);ct.set(e,t);const n=ns(e);let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),rn.set(e,r),r.addEventListener("finish",cn.bind(null,e))}function Hu(e){if(!xn.has(e)||!ct.has(e))return;const[t,n]=xn.get(e);Object.defineProperty(e,js,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):t&&t.parentNode&&t.parentNode.appendChild(e);const[r,s,i,o]=Ku(e),a=ns(e),c=ct.get(e);let l;Object.assign(e.style,{position:"absolute",top:`${r}px`,left:`${s}px`,width:`${i}px`,height:`${o}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof a!="function"?l=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:a.duration,easing:"ease-out"}):(l=new Animation(a(e,"remove",c)),l.play()),rn.set(e,l),l.addEventListener("finish",()=>{var f;e.remove(),ct.delete(e),xn.delete(e),rn.delete(e),(f=$s.get(e))===null||f===void 0||f.disconnect()})}function Ku(e){const t=ct.get(e),[n,,r]=Xa(e,t,Pn(e));let s=e.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const i=getComputedStyle(s),o=ct.get(s)||Pn(s),a=Math.round(t.top-o.top)-vt(i.borderTopWidth),c=Math.round(t.left-o.left)-vt(i.borderLeftWidth);return[a,c,n,r]}function Ju(e,t={}){if(Ls&&gn){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),Za(e,cn,Nu,r=>gn==null?void 0:gn.observe(r)),typeof t=="function"?En.set(e,t):En.set(e,{duration:250,easing:"ease-in-out",...t}),Ls.observe(e,{childList:!0}),Ya.add(e)}}const Yu={mounted:(e,t)=>{Ju(e,t.value||{})}},qu={install(e){e.directive("auto-animate",Yu)}};var Xu=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Qa;const rs=e=>Qa=e,ec=Symbol();function Bs(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Vn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Vn||(Vn={}));function Zu(){const e=na(!0),t=e.run(()=>Se({}));let n=[],r=[];const s=Hr({install(i){rs(s),s._a=i,i.provide(ec,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!Xu?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const tc=()=>{};function _o(e,t,n,r=tc){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&di()&&ra(s),s}function hn(e,...t){e.slice().forEach(n=>{n(...t)})}const Qu=e=>e();function Fs(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Bs(s)&&Bs(r)&&e.hasOwnProperty(n)&&!je(r)&&!Ft(r)?e[n]=Fs(s,r):e[n]=r}return e}const ed=Symbol();function td(e){return!Bs(e)||!e.hasOwnProperty(ed)}const{assign:At}=Object;function nd(e){return!!(je(e)&&e.effect)}function rd(e,t,n,r){const{state:s,actions:i,getters:o}=t,a=n.state.value[e];let c;function l(){a||(n.state.value[e]=s?s():{});const f=ql(n.state.value[e]);return At(f,i,Object.keys(o||{}).reduce((u,g)=>(u[g]=Hr(He(()=>{rs(n);const v=n._s.get(e);return o[g].call(v,v)})),u),{}))}return c=nc(e,l,t,n,r,!0),c}function nc(e,t,n={},r,s,i){let o;const a=At({actions:{}},n),c={deep:!0};let l,f,u=[],g=[],v;const w=r.state.value[e];!i&&!w&&(r.state.value[e]={}),Se({});let O;function U(Y){let L;l=f=!1,typeof Y=="function"?(Y(r.state.value[e]),L={type:Vn.patchFunction,storeId:e,events:v}):(Fs(r.state.value[e],Y),L={type:Vn.patchObject,payload:Y,storeId:e,events:v});const Z=O=Symbol();Jr().then(()=>{O===Z&&(l=!0)}),f=!0,hn(u,L,r.state.value[e])}const K=i?function(){const{state:L}=n,Z=L?L():{};this.$patch(me=>{At(me,Z)})}:tc;function ne(){o.stop(),u=[],g=[],r._s.delete(e)}function R(Y,L){return function(){rs(r);const Z=Array.from(arguments),me=[],Ne=[];function _(S){me.push(S)}function $(S){Ne.push(S)}hn(g,{args:Z,name:Y,store:z,after:_,onError:$});let T;try{T=L.apply(this&&this.$id===e?this:z,Z)}catch(S){throw hn(Ne,S),S}return T instanceof Promise?T.then(S=>(hn(me,S),S)).catch(S=>(hn(Ne,S),Promise.reject(S))):(hn(me,T),T)}}const P={_p:r,$id:e,$onAction:_o.bind(null,g),$patch:U,$reset:K,$subscribe(Y,L={}){const Z=_o(u,Y,L.detached,()=>me()),me=o.run(()=>rt(()=>r.state.value[e],Ne=>{(L.flush==="sync"?f:l)&&Y({storeId:e,type:Vn.direct,events:v},Ne)},At({},c,L)));return Z},$dispose:ne},z=kn(P);r._s.set(e,z);const pe=(r._a&&r._a.runWithContext||Qu)(()=>r._e.run(()=>(o=na()).run(t)));for(const Y in pe){const L=pe[Y];if(je(L)&&!nd(L)||Ft(L))i||(w&&td(L)&&(je(L)?L.value=w[Y]:Fs(L,w[Y])),r.state.value[e][Y]=L);else if(typeof L=="function"){const Z=R(Y,L);pe[Y]=Z,a.actions[Y]=L}}return At(z,pe),At(ye(z),pe),Object.defineProperty(z,"$state",{get:()=>r.state.value[e],set:Y=>{U(L=>{At(L,Y)})}}),r._p.forEach(Y=>{At(z,o.run(()=>Y({store:z,app:r._a,pinia:r,options:a})))}),w&&i&&n.hydrate&&n.hydrate(z.$state,w),l=!0,f=!0,z}function rc(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(a,c){const l=Ff();return a=a||(l?Nn(ec,null):null),a&&rs(a),a=Qa,a._s.has(r)||(i?nc(r,t,s,a):rd(r,s,a)),a._s.get(r)}return o.$id=r,o}const sc=gt({__name:"Tile",props:{value:{}},setup(e){const t=e,n=He(()=>{if(!t.value)return["transparent","transparent"];const r={2:["#f16528","white"],4:["#edd51e","black"],8:["#3592cb","white"],16:["#f23901","white"],32:["#61dafb","#13252a"],64:["#4f82bf","white"],128:["#ff4556","white"],256:["#0963a3","white"],512:["rgb(255 208 40)","#261f08"],1024:["rgb(99 108 255)","#fff"],2048:["#40b883","#34495e"],4096:["#cb3837","white"],8192:["#509640","white"],16384:["#2f71ba","white"],32768:["white","black"],65536:["black","white"]};return t.value in r?r[t.value]:["transparent","transparent"]});return(r,s)=>(ke(),we("div",{"data-test":"tile","text-dark-50":"",rounded:"",flex:"","place-items-center":"","place-content-center":"","font-mono":"","lt-md:text-3xl":"","text-5xl":"","font-black":"",relative:"","overflow-hidden":"",style:Sn({"background-color":fe(n)[0],color:fe(n)[1],"box-shadow":r.value&&r.value>=64?`0 0 10px 0px ${fe(n)[0]}`:"none"})},[te("div",{absolute:"","inset-0":"",class:mt({"border-b-4 border-black border-opacity-10 border-r-4 border-r-white":r.value})},null,2),Xr(r.$slots,"default")],4))}}),sd={"bg-secondary":"","aspect-ratio-1":"","rounded-lg":"","p-4":"",relative:""},ic=gt({__name:"Board",props:{board:{},score:{}},setup(e){const t=e,n=He(()=>t.board.flat());return(r,s)=>{const i=sc,o=Ra("auto-animate");return ke(),we("div",sd,[r.$slots.default?Xr(r.$slots,"default",{key:0}):(ke(),we(We,{key:1},[te("div",{style:Sn({gridTemplateColumns:`repeat(${t.board[0].length}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${t.board.length}, minmax(0, 1fr))`}),"top-0":"","left-0":"",absolute:"",grid:"",gap:"lg:4 2","w-full":"","h-full":"","p-4":""},[(ke(!0),we(We,null,Yi(fe(n).length,a=>(ke(),we("div",{key:a,"bg-primary":"",rounded:"","h-full":""}))),128))],4),Ma((ke(),we("div",{grid:"",style:Sn({gridTemplateColumns:`repeat(${t.board[0].length}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${t.board.length}, minmax(0, 1fr))`}),gap:"lg:4 2",relative:"","h-full":""},[(ke(!0),we(We,null,Yi(fe(n),(a,c)=>(ke(),Xn(i,{key:a?a[1]:`null-${c}`,class:mt({"not-empty":a,empty:!a}),value:a?a[0]:null,"h-full":""},{default:ft(()=>[Pt(Zt(a?`${a[0]}`:""),1)]),_:2},1032,["class","value"]))),128))],4)),[[o,{duration:100}]])],64))])}}}),Ri=gt({__name:"Button",props:{primary:{type:Boolean}},setup(e){return(t,n)=>(ke(),we("button",{"h-10":"","border-1":"","border-border":"","bg-secondary":"","rounded-full":"","font-bold":"","text-lg":"","px-4":"",class:mt({"!bg-accent-500 !border-accent-300 text-dark-900/70":t.primary})},[Xr(t.$slots,"default")],2))}}),oc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},id={},od={class:"animate-spin -ml-1 mr-3 h-12 w-12 dark:text-white",fill:"none",viewBox:"0 0 24 24"},ad=te("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),cd=te("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),ld=[ad,cd];function fd(e,t){return ke(),we("svg",od,ld)}const ac=oc(id,[["render",fd]]);class ud{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return dd(t).buffer}}function dd(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function cc(e){return new hd(e).unpack()}function lc(e){const t=new pd,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class hd{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",i,o;for(;r<t;)i=n[r],i<160?(o=i,r++):(i^192)<32?(o=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(o=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(o);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,o=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*o}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class pd{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(t[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,i=Math.floor(s*2**52),o=2**32,a=n<<31|r+1023<<20|i/o&1048575,c=i%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const o=n[i];if(t.hasOwnProperty(o)){this.pack(o);const a=this.pack(t[o]);if(a instanceof Promise)return a.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new ud,this._textEncoder=new TextEncoder}}let fc=!0,uc=!0;function xr(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ln(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==t)return s.apply(this,arguments);const c=l=>{const f=n(l);f&&(a.handleEvent?a.handleEvent(f):a(f))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,c),s.apply(this,[o,c])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(a))return i.apply(this,arguments);const c=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function md(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(fc=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function gd(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(uc=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function dc(){if(typeof window=="object"){if(fc)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ei(e,t){uc&&console.warn(e+" is deprecated, please use "+t+" instead.")}function yd(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=xr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=xr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=xr(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function bo(e){return Object.prototype.toString.call(e)==="[object Object]"}function hc(e){return bo(e)?Object.keys(e).reduce(function(t,n){const r=bo(e[n]),s=r?hc(e[n]):e[n],i=r&&!Object.keys(s).length;return s===void 0||i?t:Object.assign(t,{[n]:s})},{}):e}function Us(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Us(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{Us(e,e.get(s),n)})}))}function vo(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const i=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&i.push(o)}),i.forEach(o=>{e.forEach(a=>{a.type===r&&a.trackId===o.id&&Us(e,a,s)})}),s}const xo=dc;function pc(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const f=typeof a[l]=="object"?a[l]:{ideal:a[l]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const u=function(g,v){return g?g+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(f.ideal!==void 0){c.optional=c.optional||[];let g={};typeof f.ideal=="number"?(g[u("min",l)]=f.ideal,c.optional.push(g),g={},g[u("max",l)]=f.ideal,c.optional.push(g)):(g[u("",l)]=f.ideal,c.optional.push(g))}f.exact!==void 0&&typeof f.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[u("",l)]=f.exact):["min","max"].forEach(g=>{f[g]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[u(g,l)]=f[g])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},s=function(a,c){if(t.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const l=function(f,u,g){u in f&&!(g in f)&&(f[g]=f[u],delete f[u])};a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","googAutoGainControl"),l(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let l=a.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const f=t.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete a.video.facingMode;let u;if(l.exact==="environment"||l.ideal==="environment"?u=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(g=>{g=g.filter(w=>w.kind==="videoinput");let v=g.find(w=>u.some(O=>w.label.toLowerCase().includes(O)));return!v&&g.length&&u.includes("back")&&(v=g[g.length-1]),v&&(a.video.deviceId=l.exact?{exact:v.deviceId}:{ideal:v.deviceId}),a.video=r(a.video),xo("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return xo("chrome: "+JSON.stringify(a)),c(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,l){s(a,f=>{n.webkitGetUserMedia(f,c,u=>{l&&l(i(u))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,l=>a(l).then(f=>{if(l.audio&&!f.getAudioTracks().length||l.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(i(f))))}}}function _d(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(s=>{const i=r.video&&r.video.width,o=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s,maxFrameRate:a||3}},i&&(r.video.mandatory.maxWidth=i),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)})}}}function mc(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function gc(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ln(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function yc(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,c){let l=s.apply(this,arguments);return l||(l=t(this,a),this._senders.push(l)),l};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function _c(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,s,i]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const o=function(c){const l={};return c.result().forEach(u=>{const g={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(v=>{g[v]=u.stat(v)}),l[g.id]=g}),l},a=function(c){return new Map(Object.keys(c).map(l=>[l,c[l]]))};if(arguments.length>=2){const c=function(l){s(a(o(l)))};return t.apply(this,[c,r])}return new Promise((c,l)=>{t.apply(this,[function(f){c(a(o(f)))},l])}).then(s,i)}}function bc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>vo(o,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),ln(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>vo(i,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function vc(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(u=>u.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(l=>a.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function xc(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return vc(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const f=n.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(u=>this._reverseStreams[u.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(u=>{if(this.getSenders().find(v=>v.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const u=new e.MediaStream(f.getTracks());this._streams[f.id]=u,this._reverseStreams[u.id]=f,f=u}r.apply(this,[f])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},e.RTCPeerConnection.prototype.addTrack=function(f,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const g=[].slice.call(arguments,1);if(g.length!==1||!g[0].getTracks().find(O=>O===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(O=>O.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const w=this._streams[u.id];if(w)w.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const O=new e.MediaStream([f]);this._streams[u.id]=O,this._reverseStreams[O.id]=u,this.addStream(O)}return this.getSenders().find(O=>O.track===f)};function i(l,f){let u=f.sdp;return Object.keys(l._reverseStreams||[]).forEach(g=>{const v=l._reverseStreams[g],w=l._streams[v.id];u=u.replace(new RegExp(w.id,"g"),v.id)}),new RTCSessionDescription({type:f.type,sdp:u})}function o(l,f){let u=f.sdp;return Object.keys(l._reverseStreams||[]).forEach(g=>{const v=l._reverseStreams[g],w=l._streams[v.id];u=u.replace(new RegExp(v.id,"g"),w.id)}),new RTCSessionDescription({type:f.type,sdp:u})}["createOffer","createAnswer"].forEach(function(l){const f=e.RTCPeerConnection.prototype[l],u={[l](){const g=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[w=>{const O=i(this,w);g[0].apply(null,[O])},w=>{g[1]&&g[1].apply(null,w)},arguments[2]]):f.apply(this,arguments).then(w=>i(this,w))}};e.RTCPeerConnection.prototype[l]=u[l]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const l=c.get.apply(this);return l.type===""?l:i(this,l)}}),e.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let g;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(O=>f.track===O)&&(g=this._streams[v])}),g&&(g.getTracks().length===1?this.removeStream(this._reverseStreams[g.id]):g.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ns(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function Cc(e,t){ln(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Co=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Cc,shimAddTrackRemoveTrack:xc,shimAddTrackRemoveTrackWithNative:vc,shimGetDisplayMedia:_d,shimGetSendersWithDtmf:yc,shimGetStats:_c,shimGetUserMedia:pc,shimMediaStream:mc,shimOnTrack:gc,shimPeerConnection:Ns,shimSenderReceiverGetStats:bc},Symbol.toStringTag,{value:"Module"}));function Sc(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){Ei("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function bd(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function kc(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function zs(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=e.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(c=>{if(t.version<53&&!o)try{c.forEach(l=>{l.type=n[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;c.forEach((f,u)=>{c.set(u,Object.assign({},f,{type:n[f.type]||f.type}))})}return c}).then(o,a)}}function Tc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Rc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),ln(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ec(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){Ei("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Pc(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Mc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function wc(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Oc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Ic(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const So=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Mc,shimCreateAnswer:Ic,shimCreateOffer:Oc,shimGetDisplayMedia:bd,shimGetParameters:wc,shimGetUserMedia:Sc,shimOnTrack:kc,shimPeerConnection:zs,shimRTCDataChannel:Pc,shimReceiverGetStats:Rc,shimRemoveStream:Ec,shimSenderGetStats:Tc},Symbol.toStringTag,{value:"Module"}));function Ac(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function Dc(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function $c(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(l,f){const u=arguments.length>=2?arguments[2]:arguments[0],g=n.apply(this,[u]);return f?(g.then(l,f),Promise.resolve()):g},t.createAnswer=function(l,f){const u=arguments.length>=2?arguments[2]:arguments[0],g=r.apply(this,[u]);return f?(g.then(l,f),Promise.resolve()):g};let a=function(c,l,f){const u=s.apply(this,[c]);return f?(u.then(l,f),Promise.resolve()):u};t.setLocalDescription=a,a=function(c,l,f){const u=i.apply(this,[c]);return f?(u.then(l,f),Promise.resolve()):u},t.setRemoteDescription=a,a=function(c,l,f){const u=o.apply(this,[c]);return f?(u.then(l,f),Promise.resolve()):u},t.addIceCandidate=a}function jc(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(Lc(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,i){t.mediaDevices.getUserMedia(r).then(s,i)}).bind(t))}function Lc(e){return e&&e.video!==void 0?Object.assign({},e,{video:hc(e.video)}):e}function Bc(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Ei("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Fc(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Uc(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Nc(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const ko=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Nc,shimCallbacksAPI:$c,shimConstraints:Lc,shimCreateOfferLegacy:Uc,shimGetUserMedia:jc,shimLocalStreamsAPI:Ac,shimRTCIceServerUrls:Bc,shimRemoteStreamsAPI:Dc,shimTrackEventTransceiver:Fc},Symbol.toStringTag,{value:"Module"}));function vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zc={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const c=i[a],l=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(l){const f=t.parseRtpMap(l),u=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(f.parameters=u.length?t.parseFmtp(u[0]):{},f.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(f),f.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(f.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(f=>f.type===c.type&&f.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=t.writeRtpMap(o),s+=t.writeFmtp(o),s+=t.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=t.writeExtmap(o)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(g=>t.parseSsrcMedia(g)).filter(g=>g.attribute==="cname"),c=a.length>0&&a[0].ssrc;let l;const f=t.matchPrefix(n,"a=ssrc-group:FID").map(g=>g.substring(17).split(" ").map(w=>parseInt(w,10)));f.length>0&&f[0].length>1&&f[0][0]===c&&(l=f[0][1]),s.codecs.forEach(g=>{if(g.name.toUpperCase()==="RTX"&&g.parameters.apt){let v={ssrc:c,codecPayloadType:parseInt(g.parameters.apt,10)};c&&l&&(v.rtx={ssrc:l}),r.push(v),i&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&c&&r.push({ssrc:c});let u=t.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,r.forEach(g=>{g.maxBitrate=u})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(zc);var Vc=zc.exports;const Cn=vd(Vc),xd=ul({__proto__:null,default:Cn},[Vc]);function Cr(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),i=Cn.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,ln(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Vs(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ln(e,"icecandidate",t=>{if(t.candidate){const n=Cn.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Sr(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=Cn.splitSections(a.sdp);return c.shift(),c.some(l=>{const f=Cn.parseMLine(l);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const l=parseInt(c[1],10);return l!==l?-1:l},s=function(a){let c=65536;return t.browser==="firefox"&&(t.version<57?a===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},i=function(a,c){let l=65536;t.browser==="firefox"&&t.version===57&&(l=65535);const f=Cn.matchPrefix(a.sdp,"a=max-message-size:");return f.length>0?l=parseInt(f[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(l=2147483637),l},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),l=s(c),f=i(arguments[0],c);let u;l===0&&f===0?u=Number.POSITIVE_INFINITY:l===0||f===0?u=Math.max(l,f):u=Math.min(l,f);const g={};Object.defineProperty(g,"maxMessageSize",{get(){return u}}),this._sctp=g}return o.apply(this,arguments)}}function kr(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const i=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},ln(e,"datachannel",r=>(t(r.channel,r.target),r))}function Gs(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Ws(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Tr(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Rr(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Cd=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Ws,shimAddIceCandidateNullOrEmpty:Tr,shimConnectionState:Gs,shimMaxMessageSize:Sr,shimParameterlessSetLocalDescription:Rr,shimRTCIceCandidate:Cr,shimRTCIceCandidateRelayProtocol:Vs,shimSendThrowTypeError:kr},Symbol.toStringTag,{value:"Module"}));function Sd({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=dc,r=yd(e),s={browserDetails:r,commonShim:Cd,extractVersion:xr,disableLog:md,disableWarnings:gd,sdp:xd};switch(r.browser){case"chrome":if(!Co||!Ns||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=Co,Tr(e,r),Rr(e),pc(e,r),mc(e),Ns(e,r),gc(e),xc(e,r),yc(e),_c(e),bc(e),Cc(e,r),Cr(e),Vs(e),Gs(e),Sr(e,r),kr(e),Ws(e,r);break;case"firefox":if(!So||!zs||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=So,Tr(e,r),Rr(e),Sc(e,r),zs(e,r),kc(e),Ec(e),Tc(e),Rc(e),Pc(e),Mc(e),wc(e),Oc(e),Ic(e),Cr(e),Gs(e),Sr(e,r),kr(e);break;case"safari":if(!ko||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=ko,Tr(e,r),Rr(e),Bc(e),Uc(e),$c(e),Ac(e),Dc(e),Fc(e),jc(e),Nc(e),Cr(e),Vs(e),Sr(e,r),kr(e),Ws(e,r);break;default:n("Unsupported browser!");break}return s}const To=Sd({window:typeof window>"u"?void 0:window});let Hs;try{Hs=new TextDecoder}catch{}let W,nn,k=0;const kd=105,Td=57342,Rd=57343,Ro=57337,Eo=6,pn={};let he={},Ae,Lr,Br=0,Zn=0,Fe,dt,Le=[],Ks=[],nt,Ze,Bn,Po={useRecords:!1,mapsAsObjects:!0},Qn=!1,Gc=2;try{new Function("")}catch{Gc=1/0}class er{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,s]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,s);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,s]of Object.entries(this._keyMap))this._mapKey.set(s,r)}let n={};return t.forEach((r,s)=>n[lt(this._mapKey.has(s)?this._mapKey.get(s):s)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(s=>this.decodeKeys(s))}return r}decode(t,n){if(W)return Jc(()=>(Xs(),this?this.decode(t,n):er.prototype.decode.call(Po,t,n)));nn=n>-1?n:t.length,k=0,Zn=0,Lr=null,Fe=null,W=t;try{Ze=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw W=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof er){if(he=this,nt=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Ae=this.structures,pr();(!Ae||Ae.length>0)&&(Ae=[])}else he=Po,(!Ae||Ae.length>0)&&(Ae=[]),nt=null;return pr()}decodeMultiple(t,n){let r,s=0;try{let i=t.length;Qn=!0;let o=this?this.decode(t,i):wi.decode(t,i);if(n){if(n(o)===!1)return;for(;k<i;)if(s=k,n(pr())===!1)return}else{for(r=[o];k<i;)s=k,r.push(pr());return r}}catch(i){throw i.lastPosition=s,i.values=r,i}finally{Qn=!1,Xs()}}}function pr(){try{let e=de();if(Fe){if(k>=Fe.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}k=Fe.postBundlePosition,Fe=null}if(k==nn)Ae=null,W=null,dt&&(dt=null);else if(k>nn){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!Qn)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Xs(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function de(){let e=W[k++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=W[k++];break;case 25:if(t==7)return wd();e=Ze.getUint16(k),k+=2;break;case 26:if(t==7){let n=Ze.getFloat32(k);if(he.useFloat32>2){let r=Mi[(W[k]&127)<<1|W[k+1]>>7];return k+=4,(r*n+(n>0?.5:-.5)>>0)/r}return k+=4,n}e=Ze.getUint32(k),k+=4;break;case 27:if(t==7){let n=Ze.getFloat64(k);return k+=8,n}if(t>1){if(Ze.getUint32(k)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=Ze.getUint32(k+4)}else he.int64AsNumber?(e=Ze.getUint32(k)*4294967296,e+=Ze.getUint32(k+4)):e=Ze.getBigUint64(k);k+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,s=0;for(;(r=de())!=pn;)n[s++]=r;return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let i;if(he.mapsAsObjects){let o={};if(he.keyMap)for(;(i=de())!=pn;)o[lt(he.decodeKey(i))]=de();else for(;(i=de())!=pn;)o[lt(i)]=de();return o}else{Bn&&(he.mapsAsObjects=!0,Bn=!1);let o=new Map;if(he.keyMap)for(;(i=de())!=pn;)o.set(he.decodeKey(i),de());else for(;(i=de())!=pn;)o.set(i,de());return o}case 7:return pn;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return Md(e);case 3:if(Zn>=k)return Lr.slice(k-Br,(k+=e)-Br);if(Zn==0&&nn<140&&e<32){let s=e<16?Wc(e):Pd(e);if(s!=null)return s}return Ed(e);case 4:let n=new Array(e);for(let s=0;s<e;s++)n[s]=de();return n;case 5:if(he.mapsAsObjects){let s={};if(he.keyMap)for(let i=0;i<e;i++)s[lt(he.decodeKey(de()))]=de();else for(let i=0;i<e;i++)s[lt(de())]=de();return s}else{Bn&&(he.mapsAsObjects=!0,Bn=!1);let s=new Map;if(he.keyMap)for(let i=0;i<e;i++)s.set(he.decodeKey(de()),de());else for(let i=0;i<e;i++)s.set(de(),de());return s}case 6:if(e>=Ro){let s=Ae[e&8191];if(s)return s.read||(s.read=Js(s)),s.read();if(e<65536){if(e==Rd){let i=yn(),o=de(),a=de();qs(o,a);let c={};if(he.keyMap)for(let l=2;l<i;l++){let f=he.decodeKey(a[l-2]);c[lt(f)]=de()}else for(let l=2;l<i;l++){let f=a[l-2];c[lt(f)]=de()}return c}else if(e==Td){let i=yn(),o=de();for(let a=2;a<i;a++)qs(o++,de());return de()}else if(e==Ro)return jd();if(he.getShared&&(Pi(),s=Ae[e&8191],s))return s.read||(s.read=Js(s)),s.read()}}let r=Le[e];if(r)return r.handlesRead?r(de):r(de());{let s=de();for(let i=0;i<Ks.length;i++){let o=Ks[i](e,s);if(o!==void 0)return o}return new sn(s,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let s=(nt||Kt())[e];if(s!==void 0)return s;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let s=new Error("Unexpected end of CBOR data");throw s.incomplete=!0,s}throw new Error("Unknown CBOR token "+e)}}const Mo=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Js(e){function t(){let n=W[k++];if(n=n&31,n>23)switch(n){case 24:n=W[k++];break;case 25:n=Ze.getUint16(k),k+=2;break;case 26:n=Ze.getUint32(k),k+=4;break;default:throw new Error("Expected array header, but got "+W[k-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(de);r=r.next}if(this.slowReads++>=Gc){let i=this.length==n?this:this.slice(0,n);return r=he.keyMap?new Function("r","return {"+i.map(o=>he.decodeKey(o)).map(o=>Mo.test(o)?lt(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(o=>Mo.test(o)?lt(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(de)}let s={};if(he.keyMap)for(let i=0;i<n;i++)s[lt(he.decodeKey(this[i]))]=de();else for(let i=0;i<n;i++)s[lt(this[i])]=de();return s}return e.slowReads=0,t}function lt(e){return e==="__proto__"?"__proto_":e}let Ed=Ys;function Ys(e){let t;if(e<16&&(t=Wc(e)))return t;if(e>64&&Hs)return Hs.decode(W.subarray(k,k+=e));const n=k+e,r=[];for(t="";k<n;){const s=W[k++];if(!(s&128))r.push(s);else if((s&224)===192){const i=W[k++]&63;r.push((s&31)<<6|i)}else if((s&240)===224){const i=W[k++]&63,o=W[k++]&63;r.push((s&31)<<12|i<<6|o)}else if((s&248)===240){const i=W[k++]&63,o=W[k++]&63,a=W[k++]&63;let c=(s&7)<<18|i<<12|o<<6|a;c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|c&1023),r.push(c)}else r.push(s);r.length>=4096&&(t+=ze.apply(String,r),r.length=0)}return r.length>0&&(t+=ze.apply(String,r)),t}let ze=String.fromCharCode;function Pd(e){let t=k,n=new Array(e);for(let r=0;r<e;r++){const s=W[k++];if((s&128)>0){k=t;return}n[r]=s}return ze.apply(String,n)}function Wc(e){if(e<4)if(e<2){if(e===0)return"";{let t=W[k++];if((t&128)>1){k-=1;return}return ze(t)}}else{let t=W[k++],n=W[k++];if((t&128)>0||(n&128)>0){k-=2;return}if(e<3)return ze(t,n);let r=W[k++];if((r&128)>0){k-=3;return}return ze(t,n,r)}else{let t=W[k++],n=W[k++],r=W[k++],s=W[k++];if((t&128)>0||(n&128)>0||(r&128)>0||(s&128)>0){k-=4;return}if(e<6){if(e===4)return ze(t,n,r,s);{let i=W[k++];if((i&128)>0){k-=5;return}return ze(t,n,r,s,i)}}else if(e<8){let i=W[k++],o=W[k++];if((i&128)>0||(o&128)>0){k-=6;return}if(e<7)return ze(t,n,r,s,i,o);let a=W[k++];if((a&128)>0){k-=7;return}return ze(t,n,r,s,i,o,a)}else{let i=W[k++],o=W[k++],a=W[k++],c=W[k++];if((i&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){k-=8;return}if(e<10){if(e===8)return ze(t,n,r,s,i,o,a,c);{let l=W[k++];if((l&128)>0){k-=9;return}return ze(t,n,r,s,i,o,a,c,l)}}else if(e<12){let l=W[k++],f=W[k++];if((l&128)>0||(f&128)>0){k-=10;return}if(e<11)return ze(t,n,r,s,i,o,a,c,l,f);let u=W[k++];if((u&128)>0){k-=11;return}return ze(t,n,r,s,i,o,a,c,l,f,u)}else{let l=W[k++],f=W[k++],u=W[k++],g=W[k++];if((l&128)>0||(f&128)>0||(u&128)>0||(g&128)>0){k-=12;return}if(e<14){if(e===12)return ze(t,n,r,s,i,o,a,c,l,f,u,g);{let v=W[k++];if((v&128)>0){k-=13;return}return ze(t,n,r,s,i,o,a,c,l,f,u,g,v)}}else{let v=W[k++],w=W[k++];if((v&128)>0||(w&128)>0){k-=14;return}if(e<15)return ze(t,n,r,s,i,o,a,c,l,f,u,g,v,w);let O=W[k++];if((O&128)>0){k-=15;return}return ze(t,n,r,s,i,o,a,c,l,f,u,g,v,w,O)}}}}}function Md(e){return he.copyBuffers?Uint8Array.prototype.slice.call(W,k,k+=e):W.subarray(k,k+=e)}let Hc=new Float32Array(1),mr=new Uint8Array(Hc.buffer,0,4);function wd(){let e=W[k++],t=W[k++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return mr[3]=e&128|(n>>1)+56,mr[2]=(e&7)<<5|t>>3,mr[1]=t<<5,mr[0]=0,Hc[0]}new Array(4096);class sn{constructor(t,n){this.value=t,this.tag=n}}Le[0]=e=>new Date(e);Le[1]=e=>new Date(Math.round(e*1e3));Le[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+t<<BigInt(8);return t};Le[3]=e=>BigInt(-1)-Le[2](e);Le[4]=e=>+(e[1]+"e"+e[0]);Le[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const qs=(e,t)=>{e=e-57344;let n=Ae[e];n&&n.isShared&&((Ae.restoreStructures||(Ae.restoreStructures=[]))[e]=n),Ae[e]=t,t.read=Js(t)};Le[kd]=e=>{let t=e.length,n=e[1];qs(e[0],n);let r={};for(let s=2;s<t;s++){let i=n[s-2];r[lt(i)]=e[s]}return r};Le[14]=e=>Fe?Fe[0].slice(Fe.position0,Fe.position0+=e):new sn(e,14);Le[15]=e=>Fe?Fe[1].slice(Fe.position1,Fe.position1+=e):new sn(e,15);let Od={Error,RegExp};Le[27]=e=>(Od[e[0]]||Error)(e[1],e[2]);const Kc=e=>{if(W[k++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let t=e();return nt=nt?t.concat(nt.slice(t.length)):t,nt.prefixes=e(),nt.suffixes=e(),e()};Kc.handlesRead=!0;Le[51]=Kc;Le[Eo]=e=>{if(!nt)if(he.getShared)Pi();else return new sn(e,Eo);if(typeof e=="number")return nt[16+(e>=0?2*e:-2*e-1)];throw new Error("No support for non-integer packed references yet")};Le[28]=e=>{dt||(dt=new Map,dt.id=0);let t=dt.id++,n=W[k],r;n>>5==4?r=[]:r={};let s={target:r};dt.set(t,s);let i=e();return s.used?Object.assign(r,i):(s.target=i,i)};Le[28].handlesRead=!0;Le[29]=e=>{let t=dt.get(e);return t.used=!0,t.target};Le[258]=e=>new Set(e);(Le[259]=e=>(he.mapsAsObjects&&(he.mapsAsObjects=!1,Bn=!0),e())).handlesRead=!0;function mn(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function Kt(){if(!nt)if(he.getShared)Pi();else throw new Error("No packed values available");return nt}const Id=1399353956;Ks.push((e,t)=>{if(e>=225&&e<=255)return mn(Kt().prefixes[e-224],t);if(e>=28704&&e<=32767)return mn(Kt().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return mn(Kt().prefixes[e-1879048192],t);if(e>=216&&e<=223)return mn(t,Kt().suffixes[e-216]);if(e>=27647&&e<=28671)return mn(t,Kt().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return mn(t,Kt().suffixes[e-1811939328]);if(e==Id)return{packedValues:nt,structures:Ae.slice(0),version:t};if(e==55799)return t});const Ad=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,wo=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Dd=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<wo.length;e++)$d(wo[e],Dd[e]);function $d(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let s=0;s<2;s++){if(!s&&r==1)continue;let i=r==2?1:r==4?2:3;Le[s?t:t-4]=r==1||s==Ad?o=>{if(!e)throw new Error("Could not find typed array for code "+t);return new e(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!e)throw new Error("Could not find typed array for code "+t);let a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=o.length>>i,l=new e(c),f=a[n];for(let u=0;u<c;u++)l[u]=f.call(a,u<<i,s);return l}}}function jd(){let e=yn(),t=k+de();for(let r=2;r<e;r++){let s=yn();k+=s}let n=k;return k=t,Fe=[Ys(yn()),Ys(yn())],Fe.position0=0,Fe.position1=0,Fe.postBundlePosition=k,k=n,de()}function yn(){let e=W[k++]&31;if(e>23)switch(e){case 24:e=W[k++];break;case 25:e=Ze.getUint16(k),k+=2;break;case 26:e=Ze.getUint32(k),k+=4;break}return e}function Pi(){if(he.getShared){let e=Jc(()=>(W=null,he.getShared()))||{},t=e.structures||[];he.sharedVersion=e.version,nt=he.sharedValues=e.packedValues,Ae===!0?he.structures=Ae=t:Ae.splice.apply(Ae,[0,t.length].concat(t))}}function Jc(e){let t=nn,n=k,r=Br,s=Zn,i=Lr,o=dt,a=Fe,c=new Uint8Array(W.slice(0,nn)),l=Ae,f=he,u=Qn,g=e();return nn=t,k=n,Br=r,Zn=s,Lr=i,dt=o,Fe=a,W=c,Qn=u,Ae=l,he=f,Ze=new DataView(W.buffer,W.byteOffset,W.byteLength),g}function Xs(){W=null,dt=null,Ae=null}const Mi=new Array(147);for(let e=0;e<256;e++)Mi[e]=+("1e"+Math.floor(45.15-e*.30103));let wi=new er({useRecords:!1});wi.decode;wi.decodeMultiple;let Er;try{Er=new TextEncoder}catch{}let Zs,Yc;const ss=typeof globalThis=="object"&&globalThis.Buffer,ir=typeof ss<"u",gs=ir?ss.allocUnsafeSlow:Uint8Array,Oo=ir?ss:Uint8Array,Io=256,Ao=ir?4294967296:2144337920;let ys,b,Ee,m=0,It,Be=null;const Ld=61440,Bd=/[\u0080-\uFFFF]/,ot=Symbol("record-id");class Fd extends er{constructor(t){super(t),this.offset=0;let n,r,s,i,o;t=t||{};let a=Oo.prototype.utf8Write?function(_,$,T){return b.utf8Write(_,$,T)}:Er&&Er.encodeInto?function(_,$){return Er.encodeInto(_,b.subarray($)).written}:!1,c=this,l=t.structures||t.saveStructures,f=t.maxSharedStructures;if(f==null&&(f=l?128:0),f>8190)throw new Error("Maximum maxSharedStructure is 8190");let u=t.sequential;u&&(f=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let g,v,w=t.sharedValues,O;if(w){O=Object.create(null);for(let _=0,$=w.length;_<$;_++)O[w[_]]=_}let U=[],K=0,ne=0;this.mapEncode=function(_,$){if(this._keyMap&&!this._mapped)switch(_.constructor.name){case"Array":_=_.map(T=>this.encodeKeys(T));break}return this.encode(_,$)},this.encode=function(_,$){if(b||(b=new gs(8192),Ee=new DataView(b.buffer,0,8192),m=0),It=b.length-10,It-m<2048?(b=new gs(b.length),Ee=new DataView(b.buffer,0,b.length),It=b.length-10,m=0):$===Lo&&(m=m+7&2147483640),n=m,c.useSelfDescribedHeader&&(Ee.setUint32(m,3654940416),m+=3),o=c.structuredClone?new Map:null,c.bundleStrings&&typeof _!="string"?(Be=[],Be.size=1/0):Be=null,r=c.structures,r){if(r.uninitialized){let S=c.getShared()||{};c.structures=r=S.structures||[],c.sharedVersion=S.version;let C=c.sharedValues=S.packedValues;if(C){O={};for(let N=0,X=C.length;N<X;N++)O[C[N]]=N}}let T=r.length;if(T>f&&!u&&(T=f),!r.transitions){r.transitions=Object.create(null);for(let S=0;S<T;S++){let C=r[S];if(!C)continue;let N,X=r.transitions;for(let y=0,h=C.length;y<h;y++){X[ot]===void 0&&(X[ot]=S);let I=C[y];N=X[I],N||(N=X[I]=Object.create(null)),X=N}X[ot]=S|1048576}}u||(r.nextId=T)}if(s&&(s=!1),i=r||[],v=O,t.pack){let T=new Map;if(T.values=[],T.encoder=c,T.maxValues=t.maxPrivatePackedValues||(O?16:1/0),T.objectMap=O||!1,T.samplingPackedValues=g,Pr(_,T),T.values.length>0){b[m++]=216,b[m++]=51,xt(4);let S=T.values;R(S),xt(0),xt(0),v=Object.create(O||null);for(let C=0,N=S.length;C<N;C++)v[S[C]]=C}}ys=$&bs;try{if(ys)return;if(R(_),Be&&jo(n,R),c.offset=m,o&&o.idsToInsert){m+=o.idsToInsert.length*2,m>It&&z(m),c.offset=m;let T=zd(b.subarray(n,m),o.idsToInsert);return o=null,T}return $&Lo?(b.start=n,b.end=m,b):b.subarray(n,m)}finally{if(r){if(ne<10&&ne++,r.length>f&&(r.length=f),K>1e4)r.transitions=null,ne=0,K=0,U.length>0&&(U=[]);else if(U.length>0&&!u){for(let T=0,S=U.length;T<S;T++)U[T][ot]=void 0;U=[]}}if(s&&c.saveShared){c.structures.length>f&&(c.structures=c.structures.slice(0,f));let T=b.subarray(n,m);return c.updateSharedData()===!1?c.encode(_):T}$&Vd&&(m=n)}},this.findCommonStringsToPack=()=>(g=new Map,O||(O=Object.create(null)),_=>{let $=_&&_.threshold||4,T=this.pack?_.maxPrivatePackedValues||16:0;w||(w=this.sharedValues=[]);for(let[S,C]of g)C.count>$&&(O[S]=T++,w.push(S),s=!0);for(;this.saveShared&&this.updateSharedData()===!1;);g=null});const R=_=>{m>It&&(b=z(m));var $=typeof _,T;if($==="string"){if(v){let X=v[_];if(X>=0){X<16?b[m++]=X+224:(b[m++]=198,X&1?R(15-X>>1):R(X-16>>1));return}else if(g&&!t.pack){let y=g.get(_);y?y.count++:g.set(_,{count:1})}}let S=_.length;if(Be&&S>=4&&S<1024){if((Be.size+=S)>Ld){let y,h=(Be[0]?Be[0].length*3+Be[1].length:0)+10;m+h>It&&(b=z(m+h)),b[m++]=217,b[m++]=223,b[m++]=249,b[m++]=Be.position?132:130,b[m++]=26,y=m-n,m+=4,Be.position&&jo(n,R),Be=["",""],Be.size=0,Be.position=y}let X=Bd.test(_);Be[X?0:1]+=_,b[m++]=X?206:207,R(S);return}let C;S<32?C=1:S<256?C=2:S<65536?C=3:C=5;let N=S*3;if(m+N>It&&(b=z(m+N)),S<64||!a){let X,y,h,I=m+C;for(X=0;X<S;X++)y=_.charCodeAt(X),y<128?b[I++]=y:y<2048?(b[I++]=y>>6|192,b[I++]=y&63|128):(y&64512)===55296&&((h=_.charCodeAt(X+1))&64512)===56320?(y=65536+((y&1023)<<10)+(h&1023),X++,b[I++]=y>>18|240,b[I++]=y>>12&63|128,b[I++]=y>>6&63|128,b[I++]=y&63|128):(b[I++]=y>>12|224,b[I++]=y>>6&63|128,b[I++]=y&63|128);T=I-m-C}else T=a(_,m+C,N);T<24?b[m++]=96|T:T<256?(C<2&&b.copyWithin(m+2,m+1,m+1+T),b[m++]=120,b[m++]=T):T<65536?(C<3&&b.copyWithin(m+3,m+2,m+2+T),b[m++]=121,b[m++]=T>>8,b[m++]=T&255):(C<5&&b.copyWithin(m+5,m+3,m+3+T),b[m++]=122,Ee.setUint32(m,T),m+=4),m+=T}else if($==="number")if(!this.alwaysUseFloat&&_>>>0===_)_<24?b[m++]=_:_<256?(b[m++]=24,b[m++]=_):_<65536?(b[m++]=25,b[m++]=_>>8,b[m++]=_&255):(b[m++]=26,Ee.setUint32(m,_),m+=4);else if(!this.alwaysUseFloat&&_>>0===_)_>=-24?b[m++]=31-_:_>=-256?(b[m++]=56,b[m++]=~_):_>=-65536?(b[m++]=57,Ee.setUint16(m,~_),m+=2):(b[m++]=58,Ee.setUint32(m,~_),m+=4);else{let S;if((S=this.useFloat32)>0&&_<4294967296&&_>=-2147483648){b[m++]=250,Ee.setFloat32(m,_);let C;if(S<4||(C=_*Mi[(b[m]&127)<<1|b[m+1]>>7])>>0===C){m+=4;return}else m--}b[m++]=251,Ee.setFloat64(m,_),m+=8}else if($==="object")if(!_)b[m++]=246;else{if(o){let C=o.get(_);if(C){if(b[m++]=216,b[m++]=29,b[m++]=25,!C.references){let N=o.idsToInsert||(o.idsToInsert=[]);C.references=[],N.push(C)}C.references.push(m-n),m+=2;return}else o.set(_,{offset:m-n})}let S=_.constructor;if(S===Object)P(_,!0);else if(S===Array){T=_.length,T<24?b[m++]=128|T:xt(T);for(let C=0;C<T;C++)R(_[C])}else if(S===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(b[m++]=217,b[m++]=1,b[m++]=3),T=_.size,T<24?b[m++]=160|T:T<256?(b[m++]=184,b[m++]=T):T<65536?(b[m++]=185,b[m++]=T>>8,b[m++]=T&255):(b[m++]=186,Ee.setUint32(m,T),m+=4),c.keyMap)for(let[C,N]of _)R(c.encodeKey(C)),R(N);else for(let[C,N]of _)R(C),R(N);else{for(let C=0,N=Zs.length;C<N;C++){let X=Yc[C];if(_ instanceof X){let y=Zs[C],h=y.tag;h==null&&(h=y.getTag&&y.getTag.call(this,_)),h<24?b[m++]=192|h:h<256?(b[m++]=216,b[m++]=h):h<65536?(b[m++]=217,b[m++]=h>>8,b[m++]=h&255):h>-1&&(b[m++]=218,Ee.setUint32(m,h),m+=4),y.encode.call(this,_,R,z);return}}if(_[Symbol.iterator]){if(ys){let C=new Error("Iterable should be serialized as iterator");throw C.iteratorNotHandled=!0,C}b[m++]=159;for(let C of _)R(C);b[m++]=255;return}if(_[Symbol.asyncIterator]||_s(_)){let C=new Error("Iterable/blob should be serialized as iterator");throw C.iteratorNotHandled=!0,C}if(this.useToJSON&&_.toJSON){const C=_.toJSON();if(C!==_)return R(C)}P(_,!_.hasOwnProperty)}}else if($==="boolean")b[m++]=_?245:244;else if($==="bigint"){if(_<BigInt(1)<<BigInt(64)&&_>=0)b[m++]=27,Ee.setBigUint64(m,_);else if(_>-(BigInt(1)<<BigInt(64))&&_<0)b[m++]=59,Ee.setBigUint64(m,-_-BigInt(1));else if(this.largeBigIntToFloat)b[m++]=251,Ee.setFloat64(m,Number(_));else throw new RangeError(_+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");m+=8}else if($==="undefined")b[m++]=247;else throw new Error("Unknown type: "+$)},P=this.useRecords===!1?this.variableMapSize?_=>{let $=Object.keys(_),T=Object.values(_),S=$.length;if(S<24?b[m++]=160|S:S<256?(b[m++]=184,b[m++]=S):S<65536?(b[m++]=185,b[m++]=S>>8,b[m++]=S&255):(b[m++]=186,Ee.setUint32(m,S),m+=4),c.keyMap)for(let C=0;C<S;C++)R(c.encodeKey($[C])),R(T[C]);else for(let C=0;C<S;C++)R($[C]),R(T[C])}:(_,$)=>{b[m++]=185;let T=m-n;m+=2;let S=0;if(c.keyMap)for(let C in _)($||_.hasOwnProperty(C))&&(R(c.encodeKey(C)),R(_[C]),S++);else for(let C in _)($||_.hasOwnProperty(C))&&(R(C),R(_[C]),S++);b[T+++n]=S>>8,b[T+n]=S&255}:(_,$)=>{let T,S=i.transitions||(i.transitions=Object.create(null)),C=0,N=0,X,y;if(this.keyMap){y=Object.keys(_).map(I=>this.encodeKey(I)),N=y.length;for(let I=0;I<N;I++){let ee=y[I];T=S[ee],T||(T=S[ee]=Object.create(null),C++),S=T}}else for(let I in _)($||_.hasOwnProperty(I))&&(T=S[I],T||(S[ot]&1048576&&(X=S[ot]&65535),T=S[I]=Object.create(null),C++),S=T,N++);let h=S[ot];if(h!==void 0)h&=65535,b[m++]=217,b[m++]=h>>8|224,b[m++]=h&255;else if(y||(y=S.__keys__||(S.__keys__=Object.keys(_))),X===void 0?(h=i.nextId++,h||(h=0,i.nextId=1),h>=Io&&(i.nextId=(h=f)+1)):h=X,i[h]=y,h<f){b[m++]=217,b[m++]=h>>8|224,b[m++]=h&255,S=i.transitions;for(let I=0;I<N;I++)(S[ot]===void 0||S[ot]&1048576)&&(S[ot]=h),S=S[y[I]];S[ot]=h|1048576,s=!0}else{if(S[ot]=h,Ee.setUint32(m,3655335680),m+=3,C&&(K+=ne*C),U.length>=Io-f&&(U.shift()[ot]=void 0),U.push(S),xt(N+2),R(57344+h),R(y),$===null)return;for(let I in _)($||_.hasOwnProperty(I))&&R(_[I]);return}if(N<24?b[m++]=128|N:xt(N),$!==null)for(let I in _)($||_.hasOwnProperty(I))&&R(_[I])},z=_=>{let $;if(_>16777216){if(_-n>Ao)throw new Error("Encoded buffer would be larger than maximum buffer size");$=Math.min(Ao,Math.round(Math.max((_-n)*(_>67108864?1.25:2),4194304)/4096)*4096)}else $=(Math.max(_-n<<2,b.length-1)>>12)+1<<12;let T=new gs($);return Ee=new DataView(T.buffer,0,$),b.copy?b.copy(T,0,n,_):T.set(b.slice(n,_)),m-=n,n=0,It=T.length-10,b=T};let G=100,pe=1e3;this.encodeAsIterable=function(_,$){return me(_,$,Y)},this.encodeAsAsyncIterable=function(_,$){return me(_,$,Ne)};function*Y(_,$,T){let S=_.constructor;if(S===Object){let C=c.useRecords!==!1;C?P(_,null):Do(Object.keys(_).length,160);for(let N in _){let X=_[N];C||R(N),X&&typeof X=="object"?$[N]?yield*Y(X,$[N]):yield*L(X,$,N):R(X)}}else if(S===Array){let C=_.length;xt(C);for(let N=0;N<C;N++){let X=_[N];X&&(typeof X=="object"||m-n>G)?$.element?yield*Y(X,$.element):yield*L(X,$,"element"):R(X)}}else if(_[Symbol.iterator]){b[m++]=159;for(let C of _)C&&(typeof C=="object"||m-n>G)?$.element?yield*Y(C,$.element):yield*L(C,$,"element"):R(C);b[m++]=255}else _s(_)?(Do(_.size,64),yield b.subarray(n,m),yield _,Z()):_[Symbol.asyncIterator]?(b[m++]=159,yield b.subarray(n,m),yield _,Z(),b[m++]=255):R(_);T&&m>n?yield b.subarray(n,m):m-n>G&&(yield b.subarray(n,m),Z())}function*L(_,$,T){let S=m-n;try{R(_),m-n>G&&(yield b.subarray(n,m),Z())}catch(C){if(C.iteratorNotHandled)$[T]={},m=n+S,yield*Y.call(this,_,$[T]);else throw C}}function Z(){G=pe,c.encode(null,bs)}function me(_,$,T){return $&&$.chunkThreshold?G=pe=$.chunkThreshold:G=100,_&&typeof _=="object"?(c.encode(null,bs),T(_,c.iterateProperties||(c.iterateProperties={}),!0)):[c.encode(_)]}async function*Ne(_,$){for(let T of Y(_,$,!0)){let S=T.constructor;if(S===Oo||S===Uint8Array)yield T;else if(_s(T)){let C=T.stream().getReader(),N;for(;!(N=await C.read()).done;)yield N.value}else if(T[Symbol.asyncIterator])for await(let C of T)Z(),C?yield*Ne(C,$.async||($.async={})):yield c.encode(C);else yield T}}}useBuffer(t){b=t,Ee=new DataView(b.buffer,b.byteOffset,b.byteLength),m=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let t=this.sharedVersion||0;this.sharedVersion=t+1;let n=this.structures.slice(0),r=new qc(n,this.sharedValues,this.sharedVersion),s=this.saveShared(r,i=>(i&&i.version||0)==t);return s===!1?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):n.forEach((i,o)=>this.structures[o]=i),s}}function Do(e,t){e<24?b[m++]=t|e:e<256?(b[m++]=t|24,b[m++]=e):e<65536?(b[m++]=t|25,b[m++]=e>>8,b[m++]=e&255):(b[m++]=t|26,Ee.setUint32(m,e),m+=4)}class qc{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function xt(e){e<24?b[m++]=128|e:e<256?(b[m++]=152,b[m++]=e):e<65536?(b[m++]=153,b[m++]=e>>8,b[m++]=e&255):(b[m++]=154,Ee.setUint32(m,e),m+=4)}const Ud=typeof Blob>"u"?function(){}:Blob;function _s(e){if(e instanceof Ud)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function Pr(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let s=t.samplingPackedValues.get(e);s?s.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,s=e.length;r<s;r++)Pr(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&Pr(n,t),Pr(e[n],t))}break;case"function":console.log(e)}}const Nd=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;Yc=[Date,Set,Error,RegExp,sn,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,qc];Zs=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(b[m++]=26,Ee.setUint32(m,n),m+=4):(b[m++]=251,Ee.setFloat64(m,n),m+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){$o(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||ir&&this.tagUint8Array!==!1))return 64},encode(e,t,n){$o(e,n)}},bt(68,1),bt(69,2),bt(70,4),bt(71,8),bt(72,1),bt(77,2),bt(78,4),bt(79,8),bt(85,4),bt(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){b[m++]=216,b[m++]=51,xt(4);let s=n.values;t(s),xt(0),xt(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,o=s.length;i<o;i++)packedObjectMap[s[i]]=i}if(r){Ee.setUint32(m,3655335424),m+=3;let s=r.slice(0);s.unshift(57344),s.push(new sn(e.version,1399353956)),t(s)}else t(new sn(e.version,1399353956))}}];function bt(e,t){return!Nd&&t>1&&(e-=4),{tag:e,encode:function(r,s){let i=r.byteLength,o=r.byteOffset||0,a=r.buffer||r;s(ir?ss.from(a,o,i):new Uint8Array(a,o,i))}}}function $o(e,t){let n=e.byteLength;n<24?b[m++]=64+n:n<256?(b[m++]=88,b[m++]=n):n<65536?(b[m++]=89,b[m++]=n>>8,b[m++]=n&255):(b[m++]=90,Ee.setUint32(m,n),m+=4),m+n>=b.length&&t(m+n),b.set(e.buffer?e:new Uint8Array(e),m),m+=n}function zd(e,t){let n,r=t.length*2,s=e.length-r;t.sort((i,o)=>i.offset>o.offset?1:-1);for(let i=0;i<t.length;i++){let o=t[i];o.id=i;for(let a of o.references)e[a++]=i>>8,e[a]=i&255}for(;n=t.pop();){let i=n.offset;e.copyWithin(i+r,i,s),r-=2;let o=i+r;e[o++]=216,e[o++]=28,s=i}return e}function jo(e,t){Ee.setUint32(Be.position+e,m-Be.position-e+1);let n=Be;Be=null,t(n[0]),t(n[1])}let Oi=new Fd({useRecords:!1});Oi.encode;Oi.encodeAsIterable;Oi.encodeAsAsyncIterable;const Lo=512,Vd=1024,bs=2048;function fn(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class Xc{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),c=t.slice(o,a),l={__peerData:this._dataCount,n:i,data:c,total:s};n.push(l),o=a,i++}return this._dataCount++,n}}}function Gd(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const vs=To.default||To,jn=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return vs.browserDetails.browser}getVersion(){return vs.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=vs.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Wd=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),Zc=()=>Math.random().toString(36).slice(2),Bo={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Hd extends Xc{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Bo,this.browser=jn.getBrowser(),this.browserVersion=jn.getVersion(),this.pack=lc,this.unpack=cc,this.supports=function(){const n={browser:jn.isBrowserSupported(),webRTC:jn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Bo),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!jn.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Wd,this.randomToken=Zc}}const tt=new Hd,Kd="PeerJS: ";var Fo;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Fo||(Fo={}));class Jd{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[Kd,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var H=new Jd,Ii={},Yd=Object.prototype.hasOwnProperty,Qe="~";function tr(){}Object.create&&(tr.prototype=Object.create(null),new tr().__proto__||(Qe=!1));function qd(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Qc(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new qd(n,r||e,s),o=Qe?Qe+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],i]:e._events[o].push(i):(e._events[o]=i,e._eventsCount++),e}function Mr(e,t){--e._eventsCount===0?e._events=new tr:delete e._events[t]}function Ye(){this._events=new tr,this._eventsCount=0}Ye.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Yd.call(n,r)&&t.push(Qe?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Ye.prototype.listeners=function(t){var n=Qe?Qe+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};Ye.prototype.listenerCount=function(t){var n=Qe?Qe+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Ye.prototype.emit=function(t,n,r,s,i,o){var a=Qe?Qe+t:t;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,f,u;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,s),!0;case 5:return c.fn.call(c.context,n,r,s,i),!0;case 6:return c.fn.call(c.context,n,r,s,i,o),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];c.fn.apply(c.context,f)}else{var g=c.length,v;for(u=0;u<g;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,n);break;case 3:c[u].fn.call(c[u].context,n,r);break;case 4:c[u].fn.call(c[u].context,n,r,s);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];c[u].fn.apply(c[u].context,f)}}return!0};Ye.prototype.on=function(t,n,r){return Qc(this,t,n,r,!1)};Ye.prototype.once=function(t,n,r){return Qc(this,t,n,r,!0)};Ye.prototype.removeListener=function(t,n,r,s){var i=Qe?Qe+t:t;if(!this._events[i])return this;if(!n)return Mr(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&Mr(this,i);else{for(var a=0,c=[],l=o.length;a<l;a++)(o[a].fn!==n||s&&!o[a].once||r&&o[a].context!==r)&&c.push(o[a]);c.length?this._events[i]=c.length===1?c[0]:c:Mr(this,i)}return this};Ye.prototype.removeAllListeners=function(t){var n;return t?(n=Qe?Qe+t:t,this._events[n]&&Mr(this,n)):(this._events=new tr,this._eventsCount=0),this};Ye.prototype.off=Ye.prototype.removeListener;Ye.prototype.addListener=Ye.prototype.on;Ye.prefixed=Qe;Ye.EventEmitter=Ye;Ii=Ye;var un={};fn(un,"ConnectionType",()=>Tt);fn(un,"PeerErrorType",()=>Ie);fn(un,"BaseConnectionErrorType",()=>nr);fn(un,"DataConnectionErrorType",()=>rr);fn(un,"SerializationType",()=>Mn);fn(un,"SocketEventType",()=>kt);fn(un,"ServerMessageType",()=>Ve);var Tt;(function(e){e.Data="data",e.Media="media"})(Tt||(Tt={}));var Ie;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(Ie||(Ie={}));var nr;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(nr||(nr={}));var rr;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(rr||(rr={}));var Mn;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(Mn||(Mn={}));var kt;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(kt||(kt={}));var Ve;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Ve||(Ve={}));var Ai={};Ai=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class Xd extends Ii.EventEmitter{constructor(t,n,r,s,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=t?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+i}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Ai.version),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),H.log("Server message received:",i)}catch{H.log("Invalid server message",s.data);return}this.emit(kt.Message,i)},this._socket.onclose=s=>{this._disconnected||(H.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(kt.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),H.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){H.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Ve.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(kt.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class el{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Tt.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){H.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;H.log("Listening for ICE candidates."),t.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(H.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:Ve.Candidate,payload:{candidate:o.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":H.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(nr.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":H.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(nr.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":H.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},H.log("Listening for data channel"),t.ondatachannel=o=>{H.log("Received data channel");const a=o.channel;i.getConnection(n,r)._initializeDataChannel(a)},H.log("Listening for remote stream"),t.ontrack=o=>{H.log("Received remote stream");const a=o.streams[0],c=i.getConnection(n,r);if(c.type===Tt.Media){const l=c;this._addStreamToMediaConnection(a,l)}}}cleanup(){H.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);H.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),H.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Tt.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:Ve.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Ie.WebRTC,s),H.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(Ie.WebRTC,r),H.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();H.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),H.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Ve.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(Ie.WebRTC,s),H.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(Ie.WebRTC,r),H.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;H.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),H.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await i._makeAnswer()}catch(o){s.emitError(Ie.WebRTC,o),H.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(t){H.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),H.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Ie.WebRTC,n),H.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(H.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return H.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){H.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class tl extends Ii.EventEmitter{emitError(t,n){H.error("Error:",n),this.emit("error",new Zd(`${t}`,n))}}class Zd extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class nl extends tl{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var si;const Gn=class Gn extends nl{get type(){return Tt.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Gn.ID_PREFIX+tt.randomToken(),this._negotiator=new el(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{H.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{H.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){H.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Ve.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Ve.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:H.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){H.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};si=new WeakMap,Dn(Gn,si,Gn.ID_PREFIX="mc_");let Fr=Gn;class Qd{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:o}=this._options,a=new URL(`${n}://${r}:${s}${i}${o}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Ai.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){H.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==tt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===tt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw H.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var ii,oi;const Yt=class Yt extends nl{get type(){return Tt.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Yt.ID_PREFIX+Zc(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new el(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{H.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{H.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{H.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(rr.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Ve.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Ve.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:H.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};ii=new WeakMap,oi=new WeakMap,Dn(Yt,ii,Yt.ID_PREFIX="dc_"),Dn(Yt,oi,Yt.MAX_BUFFERED_AMOUNT=8388608);let Ur=Yt;class Di extends Ur{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ur.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return H.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class xs extends Di{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new Xc,this.serialization=Mn.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=cc(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Gd(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=lc(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);H.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class eh extends Di{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Mn.None}}class th extends Di{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=tt.chunkedMTU){this.emitError(rr.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=Mn.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var ai;const Wn=class Wn extends tl{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:eh,json:th,binary:xs,"binary-utf8":xs,default:xs},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:tt.CLOUD_HOST,port:tt.CLOUD_PORT,path:"/",key:Wn.DEFAULT_KEY,token:tt.randomToken(),config:tt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==tt.CLOUD_HOST?this._options.secure=tt.isSecure():this._options.host==tt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&H.setLogFunction(this._options.logFunction),H.logLevel=this._options.debug||0,this._api=new Qd(n),this._socket=this._createServerConnection(),!tt.supports.audioVideo&&!tt.supports.data){this._delayedAbort(Ie.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!tt.validateId(r)){this._delayedAbort(Ie.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(Ie.ServerError,s))}_createServerConnection(){const t=new Xd(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(kt.Message,n=>{this._handleMessage(n)}),t.on(kt.Error,n=>{this._abort(Ie.SocketError,n)}),t.on(kt.Disconnected,()=>{this.disconnected||(this.emitError(Ie.Network,"Lost connection to server."),this.disconnect())}),t.on(kt.Close,()=>{this.disconnected||this._abort(Ie.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case Ve.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Ve.Error:this._abort(Ie.ServerError,r.msg);break;case Ve.IdTaken:this._abort(Ie.UnavailableID,`ID "${this.id}" is taken`);break;case Ve.InvalidKey:this._abort(Ie.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Ve.Leave:H.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Ve.Expire:this.emitError(Ie.PeerUnavailable,`Could not connect to peer ${s}`);break;case Ve.Offer:{const i=r.connectionId;let o=this.getConnection(s,i);if(o&&(o.close(),H.warn(`Offer received for existing Connection ID:${i}`)),r.type===Tt.Media){const c=new Fr(s,this,{connectionId:i,_payload:r,metadata:r.metadata});o=c,this._addConnection(s,o),this.emit("call",c)}else if(r.type===Tt.Data){const c=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=c,this._addConnection(s,o),this.emit("connection",c)}else{H.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const c of a)o.handleMessage(c);break}default:{if(!r){H.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,o=this.getConnection(s,i);o&&o.peerConnection?o.handleMessage(t):i?this._storeMessage(i,t):H.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){H.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ie.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){H.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ie.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){H.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Fr(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){H.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){H.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(H.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;H.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)H.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)H.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(Ie.ServerError,n))}};ai=new WeakMap,Dn(Wn,ai,Wn.DEFAULT_KEY="peerjs");let Qs=Wn;var Uo=Qs;function is(e){return di()?(ra(e),!0):!1}function Lt(){const e=new Set,t=s=>{e.delete(s)};return{on:s=>{e.add(s);const i=()=>t(s);return is(i),{off:i}},off:t,trigger:(...s)=>Promise.all(Array.from(e).map(i=>i(...s)))}}function Me(e){return typeof e=="function"?e():fe(e)}const $i=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const nh=Object.prototype.toString,rh=e=>nh.call(e)==="[object Object]",ei=()=>{};function sh(e,t){function n(...r){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(i)})}return n}const rl=e=>e();function ih(e=rl){const t=Se(!0);function n(){t.value=!1}function r(){t.value=!0}const s=(...i)=>{t.value&&e(...i)};return{isActive:tn(t),pause:n,resume:r,eventFilter:s}}function ti(e,t=!1,n="Timeout"){return new Promise((r,s)=>{setTimeout(t?()=>s(n):r,e)})}function oh(e){return e}function ah(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function ch(e){return e||Ha()}function lh(e,t,n={}){const{eventFilter:r=rl,...s}=n;return rt(e,sh(r,t),s)}function fh(e,t,n={}){const{eventFilter:r,...s}=n,{eventFilter:i,pause:o,resume:a,isActive:c}=ih(r);return{stop:lh(e,t,{...s,eventFilter:i}),pause:o,resume:a,isActive:c}}function uh(e,t=!0,n){ch()?Ci(e,n):t?e():Jr(e)}function ni(e,t=!1){function n(u,{flush:g="sync",deep:v=!1,timeout:w,throwOnTimeout:O}={}){let U=null;const ne=[new Promise(R=>{U=rt(e,P=>{u(P)!==t&&(U==null||U(),R(P))},{flush:g,deep:v,immediate:!0})})];return w!=null&&ne.push(ti(w,O).then(()=>Me(e)).finally(()=>U==null?void 0:U())),Promise.race(ne)}function r(u,g){if(!je(u))return n(P=>P===u,g);const{flush:v="sync",deep:w=!1,timeout:O,throwOnTimeout:U}=g??{};let K=null;const R=[new Promise(P=>{K=rt([e,u],([z,G])=>{t!==(z===G)&&(K==null||K(),P(z))},{flush:v,deep:w,immediate:!0})})];return O!=null&&R.push(ti(O,U).then(()=>Me(e)).finally(()=>(K==null||K(),Me(e)))),Promise.race(R)}function s(u){return n(g=>!!g,u)}function i(u){return r(null,u)}function o(u){return r(void 0,u)}function a(u){return n(Number.isNaN,u)}function c(u,g){return n(v=>{const w=Array.from(v);return w.includes(u)||w.includes(Me(u))},g)}function l(u){return f(1,u)}function f(u=1,g){let v=-1;return n(()=>(v+=1,v>=u),g)}return Array.isArray(Me(e))?{toMatch:n,toContains:c,changed:l,changedTimes:f,get not(){return ni(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:s,toBeNull:i,toBeNaN:a,toBeUndefined:o,changed:l,changedTimes:f,get not(){return ni(e,!t)}}}function dh(e){return ni(e)}function hh(e,t,n={}){const{immediate:r=!0}=n,s=Se(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function c(...l){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,e(...l)},Me(t))}return r&&(s.value=!0,$i&&c()),is(a),{isPending:tn(s),start:c,stop:a}}function ph(e){var t;const n=Me(e);return(t=n==null?void 0:n.$el)!=null?t:n}const wn=$i?window:void 0,sl=$i?window.navigator:void 0;function Nt(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=wn):[t,n,r,s]=e,!t)return ei;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(f=>f()),i.length=0},a=(f,u,g,v)=>(f.addEventListener(u,g,v),()=>f.removeEventListener(u,g,v)),c=rt(()=>[ph(t),Me(s)],([f,u])=>{if(o(),!f)return;const g=rh(u)?{...u}:u;i.push(...n.flatMap(v=>r.map(w=>a(f,v,w,g))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return is(l),l}function mh(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function gr(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:s=wn,eventName:i="keydown",passive:o=!1,dedupe:a=!1}=r,c=mh(t);return Nt(s,i,f=>{f.repeat&&Me(a)||c(f)&&n(f)},o)}function gh(){const e=Se(!1);return Ha()&&Ci(()=>{e.value=!0}),e}function il(e){const t=gh();return He(()=>(t.value,!!e()))}function No(e,t={}){const{controls:n=!1,navigator:r=sl}=t,s=il(()=>r&&"permissions"in r);let i;const o=typeof e=="string"?{name:e}:e,a=Se(),c=()=>{i&&(a.value=i.state)},l=ah(async()=>{if(s.value){if(!i)try{i=await r.permissions.query(o),Nt(i,"change",c),c()}catch{a.value="prompt"}return i}});return l(),n?{state:a,isSupported:s,query:l}:a}function yh(e={}){const{navigator:t=sl,read:n=!1,source:r,copiedDuring:s=1500,legacy:i=!1}=e,o=il(()=>t&&"clipboard"in t),a=No("clipboard-read"),c=No("clipboard-write"),l=He(()=>o.value||i),f=Se(""),u=Se(!1),g=hh(()=>u.value=!1,s);function v(){o.value&&a.value!=="denied"?t.clipboard.readText().then(K=>{f.value=K}):f.value=U()}l.value&&n&&Nt(["copy","cut"],v);async function w(K=Me(r)){l.value&&K!=null&&(o.value&&c.value!=="denied"?await t.clipboard.writeText(K):O(K),f.value=K,u.value=!0,g.start())}function O(K){const ne=document.createElement("textarea");ne.value=K??"",ne.style.position="absolute",ne.style.opacity="0",document.body.appendChild(ne),ne.select(),document.execCommand("copy"),ne.remove()}function U(){var K,ne,R;return(R=(ne=(K=document==null?void 0:document.getSelection)==null?void 0:K.call(document))==null?void 0:ne.toString())!=null?R:""}return{isSupported:l,text:f,copied:u,copy:w}}const yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r="__vueuse_ssr_handlers__",_h=bh();function bh(){return _r in yr||(yr[_r]=yr[_r]||{}),yr[_r]}function vh(e,t){return _h[e]||t}function xh(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ch={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},zo="vueuse-storage";function Sh(e,t,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:f,window:u=wn,eventFilter:g,onError:v=L=>{console.error(L)},initOnMounted:w}=r,O=(f?Kl:Se)(typeof t=="function"?t():t);if(!n)try{n=vh("getDefaultStorage",()=>{var L;return(L=wn)==null?void 0:L.localStorage})()}catch(L){v(L)}if(!n)return O;const U=Me(t),K=xh(U),ne=(s=r.serializer)!=null?s:Ch[K],{pause:R,resume:P}=fh(O,()=>z(O.value),{flush:i,deep:o,eventFilter:g});return u&&a&&uh(()=>{Nt(u,"storage",Y),Nt(u,zo,pe),w&&Y()}),w||Y(),O;function z(L){try{if(L==null)n.removeItem(e);else{const Z=ne.write(L),me=n.getItem(e);me!==Z&&(n.setItem(e,Z),u&&u.dispatchEvent(new CustomEvent(zo,{detail:{key:e,oldValue:me,newValue:Z,storageArea:n}})))}}catch(Z){v(Z)}}function G(L){const Z=L?L.newValue:n.getItem(e);if(Z==null)return c&&U!=null&&n.setItem(e,ne.write(U)),U;if(!L&&l){const me=ne.read(Z);return typeof l=="function"?l(me,U):K==="object"&&!Array.isArray(me)?{...U,...me}:me}else return typeof Z!="string"?Z:ne.read(Z)}function pe(L){Y(L.detail)}function Y(L){if(!(L&&L.storageArea!==n)){if(L&&L.key==null){O.value=U;return}if(!(L&&L.key!==e)){R();try{(L==null?void 0:L.newValue)!==ne.write(O.value)&&(O.value=G(L))}catch(Z){v(Z)}finally{L?Jr(P):P()}}}}}function kh(e,t,n={}){const{window:r=wn}=n;return Sh(e,t,r==null?void 0:r.localStorage,n)}function Th(e,t={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:s,onSwipeStart:i,passive:o=!0,window:a=wn}=t,c=kn({x:0,y:0}),l=kn({x:0,y:0}),f=He(()=>c.x-l.x),u=He(()=>c.y-l.y),{max:g,abs:v}=Math,w=He(()=>g(v(f.value),v(u.value))>=n),O=Se(!1),U=He(()=>w.value?v(f.value)>v(u.value)?f.value>0?"left":"right":u.value>0?"up":"down":"none"),K=L=>[L.touches[0].clientX,L.touches[0].clientY],ne=(L,Z)=>{c.x=L,c.y=Z},R=(L,Z)=>{l.x=L,l.y=Z};let P;const z=Rh(a==null?void 0:a.document);o?P=z?{passive:!0}:{capture:!1}:P=z?{passive:!1,capture:!0}:{capture:!0};const G=L=>{O.value&&(s==null||s(L,U.value)),O.value=!1},pe=[Nt(e,"touchstart",L=>{if(L.touches.length!==1)return;P.capture&&!P.passive&&L.preventDefault();const[Z,me]=K(L);ne(Z,me),R(Z,me),i==null||i(L)},P),Nt(e,"touchmove",L=>{if(L.touches.length!==1)return;const[Z,me]=K(L);R(Z,me),!O.value&&w.value&&(O.value=!0),O.value&&(r==null||r(L))},P),Nt(e,["touchend","touchcancel"],G,P)];return{isPassiveEventSupported:z,isSwiping:O,direction:U,coordsStart:c,coordsEnd:l,lengthX:f,lengthY:u,stop:()=>pe.forEach(L=>L())}}function Rh(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",ei,n),e.removeEventListener("x",ei),t}function Eh([e,t,n,r]){const s=(f,u)=>1-3*u+3*f,i=(f,u)=>3*u-6*f,o=f=>3*f,a=(f,u,g)=>((s(u,g)*f+i(u,g))*f+o(u))*f,c=(f,u,g)=>3*s(u,g)*f*f+2*i(u,g)*f+o(u),l=f=>{let u=f;for(let g=0;g<4;++g){const v=c(u,e,n);if(v===0)return u;const w=a(u,e,n)-f;u-=w/v}return u};return f=>e===t&&n===r?f:a(l(f),t,r)}function Vo(e,t,n){return e+n*(t-e)}function Cs(e){return(typeof e=="number"?[e]:e)||[]}function Ph(e,t,n,r={}){var s,i;const o=Me(t),a=Me(n),c=Cs(o),l=Cs(a),f=(s=Me(r.duration))!=null?s:1e3,u=Date.now(),g=Date.now()+f,v=typeof r.transition=="function"?r.transition:(i=Me(r.transition))!=null?i:oh,w=typeof v=="function"?v:Eh(v);return new Promise(O=>{e.value=o;const U=()=>{var K;if((K=r.abort)!=null&&K.call(r)){O();return}const ne=Date.now(),R=w((ne-u)/f),P=Cs(e.value).map((z,G)=>Vo(c[G],l[G],R));Array.isArray(e.value)?e.value=P.map((z,G)=>{var pe,Y;return Vo((pe=c[G])!=null?pe:0,(Y=l[G])!=null?Y:0,R)}):typeof e.value=="number"&&(e.value=P[0]),ne<g?requestAnimationFrame(U):(e.value=a,O())};U()})}function Mh(e,t={}){let n=0;const r=()=>{const i=Me(e);return typeof i=="number"?i:i.map(Me)},s=Se(r());return rt(r,async i=>{var o,a;if(Me(t.disabled))return;const c=++n;if(t.delay&&await ti(Me(t.delay)),c!==n)return;const l=Array.isArray(i)?i.map(Me):Me(i);(o=t.onStarted)==null||o.call(t),await Ph(s,s.value,l,{...t,abort:()=>{var f;return c!==n||((f=t.abort)==null?void 0:f.call(t))}}),(a=t.onFinished)==null||a.call(t)},{deep:!0}),rt(()=>Me(t.disabled),i=>{i&&(n++,s.value=r())}),is(()=>{n++}),He(()=>Me(t.disabled)?r():s.value)}const wh=rc("peer",()=>{const e=Se(),t=Se(!1),n=Se(!1),r=Lt(),s=Lt(),i=Lt(),o=Lt();let a,c,l;const f=()=>{n.value=!0,r.trigger()},u=()=>{n.value=!1,s.trigger()},g=P=>{i.trigger(P)},v=P=>{o.trigger(P)},w=P=>{P?l=new Uo(P,{debug:2}):l=new Uo({debug:2}),l.on("open",()=>{t.value=!0,l&&(e.value=l.id)}),l.on("close",()=>{t.value=!1}),l.on("connection",z=>{c=z,c.on("open",f),c.on("close",u),c.on("error",g),c.on("data",v)}),l.on("disconnected",()=>{s.trigger()}),l.on("error",z=>{i.trigger(z)})},O=()=>{l&&l.destroy(),l=void 0},U=async P=>{await dh(t).toBeTruthy(),l&&(a=l.connect(P)),a.on("open",f),a.on("close",u),a.on("error",g),a.on("data",v)},K=async()=>{l&&l.disconnect()},ne=(P,z)=>{c?c.send({message:P,payload:z}):a&&a.send({message:P,payload:z})},R=(P,z)=>{o.on(G=>{G.message===P&&z(G.payload)})};return{id:e,isOpen:t,isConnected:n,createPeer:w,destroyPeer:O,connect:U,disconnect:K,sendMessage:ne,onConnected:r.on,onDisconnected:s.on,onError:i.on,onMessage:R}});function Go(e,t){const n=()=>{const r=e.length;for(let s=0;s<r/2;s++)for(let i=s;i<r-s-1;i++){const o=e[s][i];e[s][i]=e[r-1-i][s],e[r-1-i][s]=e[r-1-s][r-1-i],e[r-1-s][r-1-i]=e[i][r-1-s],e[i][r-1-s]=o}};for(let r=0;r<t;r++)n();return e}function Wo(e){return e=Math.floor(e*10001)+0,function(t,n){let r=e+=1831565813;r=Math.imul(r^r>>>15,r|1),r^=r+Math.imul(r^r>>>7,r|61);const s=((r^r>>>14)>>>0)/4294967296;return typeof t<"u"&&typeof n<"u"?Math.floor(s*(n-t+1))+t:s}}function ol(e,t){if(!Array.isArray(e)||!Array.isArray(t))return e===t;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!ol(e[n],t[n]))return!1;return!0}function al(e){const t=e.length,n=Array.from({length:t});for(let r=0;r<t;r++)Array.isArray(e[r])?n[r]=al(e[r]):n[r]=e[r];return n}let Oh=0;const Ih=()=>Oh+=1,Ah=2048;function Dh(e){switch(e){case"up":return 0;case"down":return 2;case"left":return 1;case"right":return 3}}function Ho(){const e=Se(Math.random()),t=Lt(),n=Lt();let r=Wo(e.value);const s=Se(0),i=Se(4),o=Se(4),a=Se(Array.from({length:i.value}).map(()=>Array.from({length:o.value}).map(()=>null))),c=Se(!1),l=Se(!1);rt(c,()=>{c.value===!0&&n.trigger()});const f=R=>{for(let P=0;P<R.length;P++)for(let z=0;z<R[P].length;z++)if(R[P][z]===null)return!1;for(let P=0;P<R.length;P++)for(let z=0;z<R[P].length;z++){if(P+1<R.length){const G=R[P][z],pe=R[P+1][z];if(G[0]===pe[0])return!1}if(z+1<R[P].length){const G=R[P][z],pe=R[P][z+1];if(G[0]===pe[0])return!1}}return!0},u=R=>{const P=r()<.9?2:4,z=r(0,i.value-1),G=r(0,o.value-1);return R[z][G]!==null?u(R):R[z][G]=[P,Ih()],f(R)&&(l.value=!0),R},g=R=>{s.value=0,l.value=!1,c.value=!1,R&&(e.value=R,r=Wo(R));let P=Array.from({length:i.value}).map(()=>Array.from({length:o.value}).map(()=>null));P=u(P),P=u(P),a.value=P},v=R=>{let P=al(a.value);const[z,G,pe]=R==="down"?[0,i.value,1]:[0,i.value,1],[Y,L,Z]=R==="right"?[o.value-1,-1,-1]:[0,o.value,1],me=Dh(R);P=Go(P,me);const Ne=[];for(let _=z;_!==G;_+=pe)for(let $=Y;$!==L;$+=Z){const T=S=>{if(_-S<0)return;const C=P[_][$],N=P[_-S][$];if(C&&N&&C[0]===N[0]&&!Ne.includes(P[_-S][$][1])){P[_-S][$]=[P[_][$][0]*2,P[_][$][1]],s.value+=P[_-S][$][0],P[_][$]=null,Ne.push(P[_-S][$][1]),P[_-S][$][0]===Ah&&!c.value&&(c.value=!0);return}else if(P[_-S][$]!==null)return;T(S+1)};T(1)}for(let _=z;_!==G;_+=pe)for(let $=Y;$!==L;$+=Z)for(let T=_;T>0;T--)P[T-1][$]===null&&(P[T-1][$]=P[T][$],P[T][$]=null);P=Go(P,P.length-me),ol(P,a.value)||(P=u(P)),a.value=P,t.trigger(R)},w=He(()=>Math.max(...a.value.map(R=>R.map(P=>P?P[0]:0)).flat()));return{board:a,score:s,init:g,up:()=>v("up"),down:()=>v("down"),left:()=>v("left"),right:()=>v("right"),move:v,seed:e,isGameOver:l,hasWon:c,largestTile:w,onWon:n.on,onMove:t.on}}const dn=rc("game",()=>{const e=kh("highScore",0),t=wh(),n=Ho(),r=Ho(),s=Lt(),i=Lt(),o=Se(!1),a=Se(!1),c=()=>{t.createPeer(),o.value=!0},l=()=>{t.destroyPeer(),o.value=!1,new URLSearchParams(window.location.search).delete("game"),window.history.pushState({},"",window.location.pathname),r.init(Math.random())},f=w=>{c(),t.connect(w)},u=()=>{t.disconnect(),l()},g=(w=!1)=>{const O=Math.random();n.init(O),a.value&&t.sendMessage("new-game",{seed:O,silent:w})};t.onConnected(()=>{a.value=!0,g()}),t.onDisconnected(()=>{a.value=!1}),n.onMove(w=>t.sendMessage("move",{direction:w})),t.onMessage("new-game",({seed:w,silent:O})=>{r.init(w),O||g(!0)}),t.onMessage("move",({direction:w})=>r.move(w)),rt(n.score,()=>{n.score.value>e.value&&(e.value=n.score.value)});const v=He(()=>o.value&&!a.value);return g(),{openMultiplayerGame:c,closeMultiplayerGame:l,localGame:n,remoteGame:r,highScore:e,startNewGame:g,isMultiplayerGameOpen:tn(o),isRemotePlayerConnected:tn(a),isWaitingForOtherPlayer:tn(v),joinMultiplayerGame:f,leaveMultiplayerGame:u,link:He(()=>`${window.location.origin}?game=${t.id}`),onRemotePlayerJoined:s.on,onRemotePlayerLeft:i.on}}),$h={flex:"","max-w":"600px","w-full":"","mx-auto":""},jh=te("span",{"flex-1":""},null,-1),Lh={"text-left":""},Bh={"text-8xl":"","font-black":"","font-mono":"","text-light-800":"","leading-18":"","text-right":""},Fh=te("div",{"text-3xl":"","font-mono":"",op50:"","text-right":""}," Score ",-1),Uh=te("div",{op50:"","text-right":""}," Join the tiles, get to 2048! ",-1),Nh=gt({__name:"RemoteGameStatus",setup(e){const t=dn(),n=Mh(He(()=>t.remoteGame.score),{duration:100});return(r,s)=>(ke(),we("div",$h,[jh,te("div",Lh,[te("div",Bh,Zt(fe(n).toFixed(0)),1),Fh,Uh])]))}}),cl=gt({__name:"CopyLink",setup(e){const{copy:t}=yh(),n=Se(!1),r=dn();function s(){t(r.link).then(()=>{n.value=!0,setTimeout(()=>{n.value=!1},1500)})}return(i,o)=>(ke(),we("div",null,[te("button",{flex:"","flex-row":"","place-items-center":"","place-content-center":"","w-7":"","h-7":"",rounded:"",onClick:s},[te("i",{class:mt({"i-carbon-copy":!fe(n),"i-carbon-checkmark text-green-500":fe(n)})},null,2)])]))}}),ri=gt({__name:"Scrim",props:{hide:{type:Boolean}},setup(e){return(t,n)=>(ke(),we("div",{absolute:"","inset-0":"","bg-black":"","z-5":"","rounded-md":"","bg-opacity-50":"","backdrop-blur-sm":"",grid:"","place-content-center":"","place-items-center":"","gap-4":"","transition-opacity":"","opacity-0":"","pointer-events-none":"",class:mt({"!pointer-events-auto !opacity-100":!t.hide})},[Xr(t.$slots,"default")],2))}});var or={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),h=y.getContext("2d");h.fillRect(0,0,1,1);var I=y.transferToImageBitmap();try{h.createPattern(I,"no-repeat")}catch{return!1}return!0}();function c(){}function l(y){var h=n.exports.Promise,I=h!==void 0?h:t.Promise;return typeof I=="function"?new I(y):(y(c,c),null)}var f=function(y,h){return{transform:function(I){if(y)return I;if(h.has(I))return h.get(I);var ee=new OffscreenCanvas(I.width,I.height),ae=ee.getContext("2d");return ae.drawImage(I,0,0),h.set(I,ee),ee},clear:function(){h.clear()}}}(a,new Map),u=function(){var y=Math.floor(16.666666666666668),h,I,ee={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(h=function(ce){var se=Math.random();return ee[se]=requestAnimationFrame(function Q(le){ae===le||ae+y-1<le?(ae=le,delete ee[se],ce()):ee[se]=requestAnimationFrame(Q)}),se},I=function(ce){ee[ce]&&cancelAnimationFrame(ee[ce])}):(h=function(ce){return setTimeout(ce,y)},I=function(ce){return clearTimeout(ce)}),{frame:h,cancel:I}}(),g=function(){var y,h,I={};function ee(ae){function ce(se,Q){ae.postMessage({options:se||{},callback:Q})}ae.init=function(Q){var le=Q.transferControlToOffscreen();ae.postMessage({canvas:le},[le])},ae.fire=function(Q,le,ve){if(h)return ce(Q,null),h;var xe=Math.random().toString(36).slice(2);return h=l(function(Ce){function Re(d){d.data.callback===xe&&(delete I[xe],ae.removeEventListener("message",Re),h=null,f.clear(),ve(),Ce())}ae.addEventListener("message",Re),ce(Q,xe),I[xe]=Re.bind(null,{data:{callback:xe}})}),h},ae.reset=function(){ae.postMessage({reset:!0});for(var Q in I)I[Q](),delete I[Q]}}return function(){if(y)return y;if(!r&&i){var ae=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}ee(y)}return y}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(y,h){return h?h(y):y}function O(y){return y!=null}function U(y,h,I){return w(y&&O(y[h])?y[h]:v[h],I)}function K(y){return y<0?0:Math.floor(y)}function ne(y,h){return Math.floor(Math.random()*(h-y))+y}function R(y){return parseInt(y,16)}function P(y){return y.map(z)}function z(y){var h=String(y).replace(/[^0-9a-f]/gi,"");return h.length<6&&(h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]),{r:R(h.substring(0,2)),g:R(h.substring(2,4)),b:R(h.substring(4,6))}}function G(y){var h=U(y,"origin",Object);return h.x=U(h,"x",Number),h.y=U(h,"y",Number),h}function pe(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function Y(y){var h=y.getBoundingClientRect();y.width=h.width,y.height=h.height}function L(y){var h=document.createElement("canvas");return h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.pointerEvents="none",h.style.zIndex=y,h}function Z(y,h,I,ee,ae,ce,se,Q,le){y.save(),y.translate(h,I),y.rotate(ce),y.scale(ee,ae),y.arc(0,0,1,se,Q,le),y.restore()}function me(y){var h=y.angle*(Math.PI/180),I=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-h+(.5*I-Math.random()*I),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function Ne(y,h){h.x+=Math.cos(h.angle2D)*h.velocity+h.drift,h.y+=Math.sin(h.angle2D)*h.velocity+h.gravity,h.velocity*=h.decay,h.flat?(h.wobble=0,h.wobbleX=h.x+10*h.scalar,h.wobbleY=h.y+10*h.scalar,h.tiltSin=0,h.tiltCos=0,h.random=1):(h.wobble+=h.wobbleSpeed,h.wobbleX=h.x+10*h.scalar*Math.cos(h.wobble),h.wobbleY=h.y+10*h.scalar*Math.sin(h.wobble),h.tiltAngle+=.1,h.tiltSin=Math.sin(h.tiltAngle),h.tiltCos=Math.cos(h.tiltAngle),h.random=Math.random()+2);var I=h.tick++/h.totalTicks,ee=h.x+h.random*h.tiltCos,ae=h.y+h.random*h.tiltSin,ce=h.wobbleX+h.random*h.tiltCos,se=h.wobbleY+h.random*h.tiltSin;if(y.fillStyle="rgba("+h.color.r+", "+h.color.g+", "+h.color.b+", "+(1-I)+")",y.beginPath(),o&&h.shape.type==="path"&&typeof h.shape.path=="string"&&Array.isArray(h.shape.matrix))y.fill(C(h.shape.path,h.shape.matrix,h.x,h.y,Math.abs(ce-ee)*.1,Math.abs(se-ae)*.1,Math.PI/10*h.wobble));else if(h.shape.type==="bitmap"){var Q=Math.PI/10*h.wobble,le=Math.abs(ce-ee)*.1,ve=Math.abs(se-ae)*.1,xe=h.shape.bitmap.width*h.scalar,Ce=h.shape.bitmap.height*h.scalar,Re=new DOMMatrix([Math.cos(Q)*le,Math.sin(Q)*le,-Math.sin(Q)*ve,Math.cos(Q)*ve,h.x,h.y]);Re.multiplySelf(new DOMMatrix(h.shape.matrix));var d=y.createPattern(f.transform(h.shape.bitmap),"no-repeat");d.setTransform(Re),y.globalAlpha=1-I,y.fillStyle=d,y.fillRect(h.x-xe/2,h.y-Ce/2,xe,Ce),y.globalAlpha=1}else if(h.shape==="circle")y.ellipse?y.ellipse(h.x,h.y,Math.abs(ce-ee)*h.ovalScalar,Math.abs(se-ae)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI):Z(y,h.x,h.y,Math.abs(ce-ee)*h.ovalScalar,Math.abs(se-ae)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI);else if(h.shape==="star")for(var p=Math.PI/2*3,x=4*h.scalar,E=8*h.scalar,M=h.x,j=h.y,B=5,A=Math.PI/B;B--;)M=h.x+Math.cos(p)*E,j=h.y+Math.sin(p)*E,y.lineTo(M,j),p+=A,M=h.x+Math.cos(p)*x,j=h.y+Math.sin(p)*x,y.lineTo(M,j),p+=A;else y.moveTo(Math.floor(h.x),Math.floor(h.y)),y.lineTo(Math.floor(h.wobbleX),Math.floor(ae)),y.lineTo(Math.floor(ce),Math.floor(se)),y.lineTo(Math.floor(ee),Math.floor(h.wobbleY));return y.closePath(),y.fill(),h.tick<h.totalTicks}function _(y,h,I,ee,ae){var ce=h.slice(),se=y.getContext("2d"),Q,le,ve=l(function(xe){function Ce(){Q=le=null,se.clearRect(0,0,ee.width,ee.height),f.clear(),ae(),xe()}function Re(){r&&!(ee.width===s.width&&ee.height===s.height)&&(ee.width=y.width=s.width,ee.height=y.height=s.height),!ee.width&&!ee.height&&(I(y),ee.width=y.width,ee.height=y.height),se.clearRect(0,0,ee.width,ee.height),ce=ce.filter(function(d){return Ne(se,d)}),ce.length?Q=u.frame(Re):Ce()}Q=u.frame(Re),le=Ce});return{addFettis:function(xe){return ce=ce.concat(xe),ve},canvas:y,promise:ve,reset:function(){Q&&u.cancel(Q),le&&le()}}}function $(y,h){var I=!y,ee=!!U(h||{},"resize"),ae=!1,ce=U(h,"disableForReducedMotion",Boolean),se=i&&!!U(h||{},"useWorker"),Q=se?g():null,le=I?pe:Y,ve=y&&Q?!!y.__confetti_initialized:!1,xe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ce;function Re(p,x,E){for(var M=U(p,"particleCount",K),j=U(p,"angle",Number),B=U(p,"spread",Number),A=U(p,"startVelocity",Number),F=U(p,"decay",Number),D=U(p,"gravity",Number),V=U(p,"drift",Number),q=U(p,"colors",P),J=U(p,"ticks",Number),re=U(p,"shapes"),ue=U(p,"scalar"),_e=!!U(p,"flat"),Te=G(p),De=M,qe=[],wt=y.width*Te.x,ar=y.height*Te.y;De--;)qe.push(me({x:wt,y:ar,angle:j,spread:B,startVelocity:A,color:q[De%q.length],shape:re[ne(0,re.length)],ticks:J,decay:F,gravity:D,drift:V,scalar:ue,flat:_e}));return Ce?Ce.addFettis(qe):(Ce=_(y,qe,le,x,E),Ce.promise)}function d(p){var x=ce||U(p,"disableForReducedMotion",Boolean),E=U(p,"zIndex",Number);if(x&&xe)return l(function(A){A()});I&&Ce?y=Ce.canvas:I&&!y&&(y=L(E),document.body.appendChild(y)),ee&&!ve&&le(y);var M={width:y.width,height:y.height};Q&&!ve&&Q.init(y),ve=!0,Q&&(y.__confetti_initialized=!0);function j(){if(Q){var A={getBoundingClientRect:function(){if(!I)return y.getBoundingClientRect()}};le(A),Q.postMessage({resize:{width:A.width,height:A.height}});return}M.width=M.height=null}function B(){Ce=null,ee&&(ae=!1,t.removeEventListener("resize",j)),I&&y&&(document.body.removeChild(y),y=null,ve=!1)}return ee&&!ae&&(ae=!0,t.addEventListener("resize",j,!1)),Q?Q.fire(p,M,B):Re(p,M,B)}return d.reset=function(){Q&&Q.reset(),Ce&&Ce.reset()},d}var T;function S(){return T||(T=$(null,{useWorker:!0,resize:!0})),T}function C(y,h,I,ee,ae,ce,se){var Q=new Path2D(y),le=new Path2D;le.addPath(Q,new DOMMatrix(h));var ve=new Path2D;return ve.addPath(le,new DOMMatrix([Math.cos(se)*ae,Math.sin(se)*ae,-Math.sin(se)*ce,Math.cos(se)*ce,I,ee])),ve}function N(y){if(!o)throw new Error("path confetti are not supported in this browser");var h,I;typeof y=="string"?h=y:(h=y.path,I=y.matrix);var ee=new Path2D(h),ae=document.createElement("canvas"),ce=ae.getContext("2d");if(!I){for(var se=1e3,Q=se,le=se,ve=0,xe=0,Ce,Re,d=0;d<se;d+=2)for(var p=0;p<se;p+=2)ce.isPointInPath(ee,d,p,"nonzero")&&(Q=Math.min(Q,d),le=Math.min(le,p),ve=Math.max(ve,d),xe=Math.max(xe,p));Ce=ve-Q,Re=xe-le;var x=10,E=Math.min(x/Ce,x/Re);I=[E,0,0,E,-Math.round(Ce/2+Q)*E,-Math.round(Re/2+le)*E]}return{type:"path",path:h,matrix:I}}function X(y){var h,I=1,ee="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?h=y:(h=y.text,I="scalar"in y?y.scalar:I,ae="fontFamily"in y?y.fontFamily:ae,ee="color"in y?y.color:ee);var ce=10*I,se=""+ce+"px "+ae,Q=new OffscreenCanvas(ce,ce),le=Q.getContext("2d");le.font=se;var ve=le.measureText(h),xe=Math.ceil(ve.actualBoundingBoxRight+ve.actualBoundingBoxLeft),Ce=Math.ceil(ve.actualBoundingBoxAscent+ve.actualBoundingBoxDescent),Re=2,d=ve.actualBoundingBoxLeft+Re,p=ve.actualBoundingBoxAscent+Re;xe+=Re+Re,Ce+=Re+Re,Q=new OffscreenCanvas(xe,Ce),le=Q.getContext("2d"),le.font=se,le.fillStyle=ee,le.fillText(h,d,p);var x=1/I;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[x,0,0,x,-xe*x/2,-Ce*x/2]}}n.exports=function(){return S().apply(this,arguments)},n.exports.reset=function(){S().reset()},n.exports.create=$,n.exports.shapeFromPath=N,n.exports.shapeFromText=X})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),or,!1);const Ko=or.exports;or.exports.create;function ll(e={}){const{duration:t=8*1e3,startVelocity:n=30,spread:r=360,ticks:s=60,zIndex:i=100}=e;return{play:()=>{const a=Date.now()+t,c=setInterval(()=>{const l=a-Date.now();if(l<=0)return clearInterval(c);const f=50*(l/t);Ko(Object.assign({},{startVelocity:n,spread:r,ticks:s,zIndex:i},{particleCount:f,origin:{x:.3,y:Math.random()-.2}})),Ko(Object.assign({},{startVelocity:n,spread:r,ticks:s,zIndex:i},{particleCount:f,origin:{x:.7,y:Math.random()-.2}}))},250)}}}const zh={relative:""},Vh={flex:"","flex-row":"","items-center":""},Gh=te("span",null," Waiting for other player to connect... ",-1),Wh={flex:"","flex-row":"","items-center":"","bg-dark-500":"",border:"1 dark-50",rounded:"","h-8":""},Hh=["value"],Kh=gt({__name:"RemoteGame",setup(e){const{play:t}=ll(),n=Se(),r=dn(),s=Se(!1);r.localGame.onWon(()=>{t(),s.value=!0});function i(){setTimeout(()=>{n.value&&n.value.select()},10)}return(o,a)=>{const c=Nh,l=ac,f=Ri,u=ic;return ke(),we("div",null,[be(c,{"mb-2":"",op50:"","filter-grayscale-100":""}),te("div",zh,[be(ri,{hide:!fe(r).isWaitingForOtherPlayer},{default:ft(()=>[te("div",Vh,[be(l,{"w-6":"","h-6":""}),Gh]),te("div",Wh,[te("input",{ref_key:"input",ref:n,border:"r-1 dark-100","h-full":"",type:"text","bg-transparent":"",value:fe(r).link,"px-2":"","text-sm":"",outline:"focus:none",onClick:i,onFocus:i},null,40,Hh),be(cl)]),te("div",null,[be(f,{onClick:a[0]||(a[0]=g=>fe(r).closeMultiplayerGame())},{default:ft(()=>[Pt(" Cancel ")]),_:1})])]),_:1},8,["hide"]),be(u,{board:fe(r).remoteGame.board,score:fe(r).remoteGame.score,op50:"","filter-grayscale-100":""},null,8,["board","score"])])])}}}),Jh={flex:"","max-w":"600px","w-full":"","mx-auto":""},Yh={"text-left":"","self-end":""},qh=te("div",{"text-3xl":"","font-mono":"",op50:""}," Score ",-1),Xh=te("div",{op50:""}," Join the tiles, get to 2048! ",-1),Zh=te("span",{"flex-1":""},null,-1),Qh={flex:"","flex-col":""},ep={"text-right":"",op50:"","font-medium":"","font-mono":"","text-xl":""},tp={"text-3xl":""},np=te("div",{"text-base":"",op70:""}," High Score ",-1),rp=te("span",{"flex-1":""},null,-1),sp={flex:"","flex-row":"","lt-md:flex-col":"","lt-md:pt-2":"","gap-2":""},ip=gt({__name:"GameControls",props:{score:{}},setup(e){const t=e,n=He(()=>t.score>128?"text-orange-500":"text-light-800"),r=dn();return(s,i)=>{const o=Ri;return ke(),we("div",Jh,[te("div",Yh,[te("div",{class:mt(["lt-md:text-7xl text-8xl font-black font-mono leading-18",fe(n)]),"data-test":"score"},Zt(s.score.toFixed(0)),3),qh,Xh]),Zh,te("div",Qh,[te("div",ep,[te("div",tp,Zt(fe(r).highScore),1),np]),rp,te("div",sp,[be(o,{onClick:i[0]||(i[0]=a=>fe(r).isMultiplayerGameOpen?fe(r).closeMultiplayerGame():fe(r).openMultiplayerGame())},{default:ft(()=>[Pt(Zt(fe(r).isMultiplayerGameOpen?"Leave":"Multiplayer"),1)]),_:1}),be(o,{primary:"",onClick:i[1]||(i[1]=a=>fe(r).startNewGame())},{default:ft(()=>[Pt(" New Game ")]),_:1})])])])}}}),op={relative:""},ap=te("div",{"text-5xl":"","font-black":""}," You Lose ",-1),cp=te("div",{"text-5xl":"","font-black":""}," You Won! ",-1),lp=gt({__name:"LocalGame",emits:["up","down","left","right","update:seed"],setup(e,{emit:t}){const n=t,r=Se(),{play:s}=ll(),{direction:i}=Th(r,{threshold:10}),o=dn(),a=Se(!1);rt(i,()=>{i.value==="up"&&o.localGame.up(),i.value==="down"&&o.localGame.down(),i.value==="left"&&o.localGame.left(),i.value==="right"&&o.localGame.right()}),o.localGame.onWon(()=>{s(),a.value=!0}),rt(()=>o.localGame.hasWon,()=>{o.localGame.hasWon||(a.value=!1)});const c=He(()=>!(a.value||o.localGame.isGameOver||o.remoteGame.hasWon));return gr(["ArrowUp","w"],()=>{c.value&&(o.localGame.up(),n("up"))}),gr(["ArrowDown","s"],()=>{c.value&&(o.localGame.down(),n("down"))}),gr(["ArrowLeft","a"],()=>{c.value&&(o.localGame.left(),n("left"))}),gr(["ArrowRight","d"],()=>{c.value&&(o.localGame.right(),n("right"))}),(l,f)=>{const u=ip,g=Ri,v=ic;return ke(),we("div",null,[be(u,{"mb-2":"",score:fe(o).localGame.score},null,8,["score"]),te("div",op,[be(ri,{hide:!(fe(o).localGame.isGameOver||fe(o).remoteGame.hasWon)},{default:ft(()=>[ap,be(g,{onClick:f[0]||(f[0]=w=>fe(o).startNewGame())},{default:ft(()=>[Pt(" Play Again ")]),_:1})]),_:1},8,["hide"]),be(ri,{hide:!fe(a)},{default:ft(()=>[cp,fe(o).isMultiplayerGameOpen?(ke(),Xn(g,{key:1,onClick:f[2]||(f[2]=w=>fe(o).startNewGame())},{default:ft(()=>[Pt(" Play Again ")]),_:1})):(ke(),Xn(g,{key:0,onClick:f[1]||(f[1]=w=>a.value=!1)},{default:ft(()=>[Pt(" Continue ")]),_:1}))]),_:1},8,["hide"]),te("div",{ref_key:"board",ref:r},[be(v,{board:fe(o).localGame.board,score:fe(o).localGame.score},null,8,["board","score"])],512)])])}}}),fp={},up={"h-18":"",fixed:"","top-0":"","left-0":"","right-0":""},dp=te("div",{"max-w-1200px":"","h-full":"","mx-auto":"",flex:"","flex-row":"","items-center":"","px-4":""},[te("span",{"flex-1":""}),te("a",{href:"https://github.com/wheatjs/vue-2048",target:"_blank"},[te("i",{"i-carbon-logo-github":"",block:"","text-2xl":"","text-white":""})])],-1),hp=[dp];function pp(e,t){return ke(),we("nav",up,hp)}const mp=oc(fp,[["render",pp]]),gp={fixed:"","top-0":"","left-0":"","right-0":"","p-4":"",flex:"","flex-row":"","place-items-center":""},yp={"bg-dark-200":"",rounded:"","mx-auto":"",class:"gt-lg:hidden","shadow-lg":"",p2:"",flex:"","flex-row":""},_p={flex:"","flex-col":"","pl-2":"","justify-center":""},bp=te("span",{"text-lg":"","font-medium":""}," Opponent ",-1),vp={mt:"-1",op50:""},xp={key:1,"p-2":"",flex:"","flex-row":"","items-center":""},Cp=te("span",null," Waiting for other player... ",-1),Sp=gt({__name:"RemoteGameSmall",setup(e){const t=dn();return(n,r)=>{const s=sc,i=cl;return ke(),we("div",gp,[te("div",yp,[fe(t).isWaitingForOtherPlayer?(ke(),we("div",xp,[be(ac,{"w-6":"","h-6":""}),Cp,be(i,{"ml-2":""})])):(ke(),we(We,{key:0},[be(s,{value:fe(t).remoteGame.largestTile,"w-14":"","h-14":"",op50:"","filter-grayscale-100":""},{default:ft(()=>[Pt(Zt(fe(t).remoteGame.largestTile),1)]),_:1},8,["value"]),te("div",_p,[bp,te("span",vp," Score: "+Zt(fe(t).remoteGame.score),1)])],64))])])}}}),kp={"h-screen":"",flex:"","flex-col":"","bg-primary":"","text-foreground":"","select-none":""},Tp={"p-4":"",grid:"","h-full":"","place-items-center":""},Rp={key:0,"font-bold":"","text-center":"","text-2xl":"","mt-4":""},Ep={class:"lt-lg:hidden"},Pp=te("div",{"font-bold":"","text-center":"","text-2xl":"","mt-4":""}," Opponent ",-1),Mp=gt({__name:"App",setup(e){const t=dn(),r=new URLSearchParams(window.location.search).get("game");return r&&t.joinMultiplayerGame(r),(s,i)=>{const o=mp,a=lp,c=Kh,l=Ra("auto-animate");return ke(),we(We,null,[be(o),te("main",kp,[te("div",Tp,[Ma((ke(),we("div",{grid:"",class:mt({"lg:grid-cols-2":fe(t).isMultiplayerGameOpen}),"grid-cols-1":"","gap-4":"","place-content-center":"","max-w":"1200px","w-full":"","mx-auto":""},[te("div",{"max-w":"600px","mx-auto":"","w-full":"",class:mt({"lt-lg:pt-16":fe(t).isMultiplayerGameOpen})},[be(a),fe(t).isMultiplayerGameOpen?(ke(),we("div",Rp," You ")):io("",!0)],2),fe(t).isMultiplayerGameOpen?(ke(),we(We,{key:0},[te("div",Ep,[be(c),Pp]),be(Sp,{class:"lg:hidden"})],64)):io("",!0)],2)),[[l,{duration:100}]])])])],64)}}});Au(Mp).use(qu).use(Zu()).mount("#app")});export default wp();
